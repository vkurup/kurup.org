<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    
    <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

    
    
    
    <link href="//fonts.googleapis.com/css?family=Quattrocento:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Quattrocento+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
    
    

    
    <title>Vinod Kurup</title>

    
    
    <link rel="stylesheet" href="/css/hugo-octopress.css">

    
    

    
    <link rel="stylesheet" href="/css/fork-awesome.min.css">
    

    
    <link href="https://kurup.org/favicon.ico" rel="icon">

    
    <link href="/index.xml" rel="alternate" type="application/rss+xml" title="Vinod Kurup" />

    <meta name="description" content="Inside Vinod Kurup&#39;s brain" />
    <meta name="keywords" content="">
    <meta name="author" content="Vinod Kurup">

    
    <meta name="generator" content="Hugo 0.59.1" />

    
    

    
    
  </head>
  <body>

    
    <header role="banner">
<hgroup>
  
  <h1><a href="https://kurup.org/">Vinod Kurup</a></h1>
    <h2>Hospitalist/programmer in search of the meaning of life</h2>
</hgroup></header>

    
    <nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
    
    <option value="https://kurup.org/">» Blog</option>
    
    <option value="https://kurup.org/about">» About Me</option>
    
    <option value="https://kurup.org/post">» Archives</option>
    
    <option value="https://kurup.org/categories">» Categories</option>
    
    <option value="https://kurup.org/medicine">» Medicine</option>
    
    <option value="https://kurup.org/running">» Running</option>
    
  </select>
</fieldset>


<ul class="main-navigation">
  
  
  
  <li><a href="https://kurup.org/" title="Blog">Blog</a></li>
  
  
  
  <li><a href="https://kurup.org/about" title="About Me" >About Me</a></li>
  
  
  
  <li><a href="https://kurup.org/post" title="Archives" >Archives</a></li>
  
  
  
  <li><a href="https://kurup.org/categories" title="Categories" >Categories</a></li>
  
  
  
  <li><a href="https://kurup.org/medicine" title="Medicine" >Medicine</a></li>
  
  
  
  <li><a href="https://kurup.org/running" title="Running" >Running</a></li>
  
  
</ul>

<ul class="subscription">
  
  
  <a href="https://kurup.org/index.xml" target="_blank" type="application/rss+xml" title="RSS"><i class="fa fa-rss fa-lg"></i></a>
  
  
</ul>


<form action="https://www.google.com/search" method="get" target="_blank">
  <fieldset role="search">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
    <input type="hidden" name="q" value="site:https://kurup.org/" />
  </fieldset>
</form>

</nav>




  

<div id="main">
  <div id="content">
    <div class="blog-index">
      
      
      <article>
        
        

<header>
  <p class="meta">Sep 5, 2006
     - 3 minute read 
     - <a href="https://kurup.org/blog/2006/09/05/ecce-bed-amp-breakfast/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://kurup.org/categories/new-york/">new-york </a><a class="label" href="https://kurup.org/categories/review/">review </a><a class="label" href="https://kurup.org/categories/travel/">travel </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://kurup.org/blog/2006/09/05/ecce-bed-amp-breakfast/">Ecce Bed &amp;amp; Breakfast</a>
  </h1>
</header>

        
          <p><img src="/images/ecce-panorama.jpg" width="580" alt="Ecce view" /></p>

<p>Can you believe that it&rsquo;s been a year since <a href="http://kurup.org/wedding">we got married</a>? Me neither. For our wedding, Mike
and Ellie gave us a generous gift certificate to the bed &amp;
breakfast of our choice. It took a while to find the right one. We
started at bedandbreakfast.com and surfed dozens of listings. This
industry really needs some web consulting advice. Most B&amp;B
websites don&rsquo;t provide nearly enough information. I want more photos,
more reviews. I want to get a feel for the atmosphere.</p>

<p>We finally found a website that showed off those things and made a
reservation at <a href="http://www.eccebedandbreakfast.com/">Ecce</a>. We had
high expectations, but I&rsquo;m happy to say that they were exceeded. You
won&rsquo;t find more hospitable proprietors than Alan and Kurt. Our <a href="/images/ecce-room.jpg">room was tastefully designed</a> and was stocked
with a gourmet coffee machine, TV/DVD/VCR, fridge and jacuzzi! It was
pure luxury. The breakfasts were over the top. Definitely try the
french toast with chocolate.</p>

<p>The house sits on a bluff overlooking the Delaware River. The view is
amazing. I tried to take one of those panorama pics, but I don&rsquo;t think
it does it justice. This place must be breathtaking in the fall. We
saw 4 or 5 bald eagles and numerous hawks from the house. We also saw
a lot of deer hanging out near the highways.</p>

<p>Tropical Storm Ernesto was winding through the region this weekend, so
we didn&rsquo;t do too much in the way of outdoors stuff. We did enjoy the
Harvest Festival Market and had some great fried food at the bar at
Lackawaxen House. We were less impressed with the Front Porch Cafe,
but it was very busy and had gotten good reviews, so maybe we just got
unlucky.</p>

<p>So thanks again, Mike and Ellie. I&rsquo;m certain we never would&rsquo;ve
otherwise explored this paradise just 2 hours from our front door. And
thank you Mala, for the best year of my life (so far!)</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>hey mon</b></p>
<p>
Hey Vinod,
</p>
<p>
Looks like you're taking the entries to a new level (with the photos).
Cool cool!
</p>
<p>
Thanks for the shout out wrt H.
</p>
<p>
Kurup.org keeps growing and growing.  Awesome.
</p>
<address class="signature">
<span class="author">Dave T</span>
<span class="date">2006-09-08 00:46:12</span>
</address>
</div>

<div class="one-comment">
<p><b>bed and breakfast blog from Puerto Rico</b></p>
<p>
I found your blog by searching for bed and breakfast blogs.
</p>
<p>
I'm having a terrible time finding more blogs written by bed and
breakfast owners like mine.
</p>
<p>
It is a <a href="http://myblog.rainforestinn.com"> bed and breakfast
blog </a> about our place deep in the heart of the El Yunque
rainforest of Puerto Rico. We are working on repairing hurricane
damage and we do a podcast about Puerto Rico
</p>
<address class="signature">
<span class="author">Bill &amp; Laurie</span>
<span class="date">2006-10-07 17:12:15</span>
</address>
</div>

<p></div></p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Aug 22, 2006
     - 1 minute read 
     - <a href="https://kurup.org/blog/2006/08/22/pediatric-endocrinologist-for-hire/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://kurup.org/categories/endocrinology/">endocrinology </a><a class="label" href="https://kurup.org/categories/job/">job </a><a class="label" href="https://kurup.org/categories/search/">search </a><a class="label" href="https://kurup.org/categories/pediatric/">pediatric </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://kurup.org/blog/2006/08/22/pediatric-endocrinologist-for-hire/">Pediatric Endocrinologist for Hire</a>
  </h1>
</header>

        
          <p>Mala finishes her fellowship in July 2007, so we&rsquo;ve entered job search mode. We&rsquo;ve got a few interviews scheduled, but it just seems harder than it should be to find out who has positions available.</p>

<p>Some criteria:</p>

<ul>
<li>focus on clinical practice</li>
<li>location with a lower cost of living than NYC (I guess that rules out &hellip; NYC)</li>
<li>friendly colleagues, staff, environment</li>
<li>family friendly</li>
<li>location near friends or family</li>
</ul>

<p>So if you know of someone that needs hard-working, intelligent, caring pediatric endocrinologist, let me know. Act now and we&rsquo;ll throw in a computer-programming, marathon-running internist!</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Aug 4, 2006
     - 2 minute read 
     - <a href="https://kurup.org/blog/2006/08/04/talking-history-is-history/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://kurup.org/categories/interesting/">interesting </a><a class="label" href="https://kurup.org/categories/podcast/">podcast </a><a class="label" href="https://kurup.org/categories/favorite/">favorite </a><a class="label" href="https://kurup.org/categories/history/">history </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://kurup.org/blog/2006/08/04/talking-history-is-history/">Talking History is history</a>
  </h1>
</header>

        
          <p>One of my favorite podcasts is going on hiatus. (A <a href="http://en.wikipedia.org/wiki/Podcast">podcast</a> is basically a fancy word for a radio show that you can download to your MP3 player.) <a href="http://talkinghistory.oah.org/">Talking History</a> is produced by the Organization of American Historians and because of budget problems, they cutting funding for Talking History.</p>

<p>The host Brian LeBeau is the epitome of a great interviewer. He mostly stays in the background, giving the stage to the historian, but when he asks a question, you immediately feel like it&rsquo;s a question that you would want to ask. He makes interviewing seem simple. It&rsquo;s clear that not only has he read the work of the historian he&rsquo;s interviewing, he understands the impact of their work. But most of all, the show is great because of the content. They choose great topics with great authors and historians. If you have any interest in history, go back and listen to their <a href="http://talkinghistory.oah.org/arch2006.html">shows for the past couple years</a> (which will remain up despite the hiatus). Hope the hiatus is short&hellip;</p>

<p>(Don&rsquo;t forget to <a href="https://www.oah.org/giving/index.html#Anchor-11176">donate to their cause</a> if you enjoy the content as much as I do)</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>History and more</b></p>
<p>
While Talking History takes its hiatus, you might check out the
Teaching Company ( http://www.teach12.com/teach12.asp?ai=16281 ). They
scout out good teachers from universities across the US for lectures
on a variety of topics.
</p>
<address class="signature">
<span class="author">Prem Thomas</span>
<span class="date">2006-08-07 12:45:00</span>
</address>
</div>

<div class="my-comment">
<p><b>I'm too cheap</b></p>
<p>
You're right Prem, the content looks enticing. But, it's a little on
the expensive side and I'm really a fan of the podcast format. Let the
audio come to me :)
</p>
<address class="signature">
<span class="author">Vinod Kurup</span>
<span class="date">2006-08-09 14:05:29</span>
</address>
</div>

<div class="one-comment">
<p><b>awesome</b></p>
<p>
This is awesome!  We need more of this.  Mo' podcasts, mo' podcasts,
mo' podcasts!
</p>
<p>
It's hard to find the quality stuff, though.  The free marketplace has
been inundated.  All part of the process, I know, I know (quality will
rise to the top).  It would be cool to have a site that has a good
rating system for free podcasts.  There probably already is one or
ones like it.  Haven't seen it/them, but perhaps it can be filtered,
fine tuned.
</p>
<address class="signature">
<span class="author">Dave T</span>
<span class="date">2006-08-15 13:42:39</span>
</address>
</div>

<div class="my-comment">
<p><b>True</b></p>
<p>
That's my problem too. Finding good stuff. There are a few sites that claim to help you (Just do a google search for 'podcast directory'), but I haven't been overwhelmed with their usefulness.
</p>
<address class="signature">
<span class="author">Vinod Kurup</span>
<span class="date">2006-08-24 16:09:31</span>
</address>
</div>

<p></div></p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Aug 2, 2006
     - 1 minute read 
     - <a href="https://kurup.org/blog/2006/08/02/milla-blogs/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://kurup.org/categories/blog/">blog </a><a class="label" href="https://kurup.org/categories/friends/">friends </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://kurup.org/blog/2006/08/02/milla-blogs/">Milla Blogs</a>
  </h1>
</header>

        
          <p><a href="http://kurup.org/blog/2006/07/25/recurrent-dvt#comment68115">Milla correctly points out</a> that she is my blogging inspiration.  Not just for telling me to blog more, but for providing the inspiration in the form of the <a href="http://millatonkonogy.blogspot.com/">most promising blog-start ever</a>!  My <a href="http://millatonkonogy.blogspot.com/2006/07/blame-it-on-rain.html">favorite so far</a>:</p>

<blockquote>
<p>I turned on 1010 Wins &ldquo;you give us 20 minutes, we&rsquo;ll give you traffic updates from yesterday for roads you don&rsquo;t drive on&rdquo; and heard nothing at all about the mudslide on the Saw Mill River Parkway, which turned my road home into a parking lot.</p>
</blockquote>

<p>Someone put her on a reality show, already!</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jul 25, 2006
     - 2 minute read 
     - <a href="https://kurup.org/blog/2006/07/25/recurrent-dvt/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://kurup.org/categories/medicine/">medicine </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://kurup.org/blog/2006/07/25/recurrent-dvt/">Recurrent DVT</a>
  </h1>
</header>

        
          <p>The duration of treatment for a deep venous thrombosis (DVT) is problematic. Most patients who have one will never have another one, yet those who do have a 5% risk of death due to their recurrent DVT. We need a simple test which separates one group from the other.</p>

<p>This weeks JAMA (no link as issue is not online yet) reports on an article claiming that thrombin generation may be that test. Thrombin is one of the key factors in coagulation and the theory is that patients who generate excess amounts of thrombin are predisposed to developing blood clots. This cohort study showed that patients with peak thrombin generation below 400 nM had a 60% lower risk of developing a recurrent DVT over the course of about 5 years of follow up.</p>

<p>The limiting feature of this study is that they excluded patients with Protein C deficiency, Protein S deficiency and SLE. They also excluded patients with cancer, recent pregnancy, recent trauma, or recent surgery.</p>

<p>That means that before we use this test, we need to make sure that we&rsquo;ve excluded all of the above diagnoses first. That doesn&rsquo;t make it such a useful screening test. It would be useful to know is whether patients with Protein C deficiency (as an example) with low thrombin-generation values are at high risk for recurrent DVT. That is, does thrombin-generation trump Protein C deficiency, or vice versa.</p>

<p>What I&rsquo;d like to have is a test that told me either 1) The patient is low risk or 2) The patient needs further testing. Then, I could do a simple test in all patients with DVT and only send the complicated hypercoagulable workup in patients who had a positive screening test. It seems like thrombin-generation may eventually be that test.</p>

<p>Also in this issue of the journal is a nice quote from Thoreau:</p>

<blockquote>
<p>Write while the heat is in you &hellip; The writer who postpones the recording of his thoughts uses an iron which has cooled to burn a hole with. He cannot inflame the minds of his audience.</p>
</blockquote>

<p>Good advice, which I need to take more often.</p>

<p>Reference: JAMA 2006-07-26 296:4 page 397</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>Thoreau Shmoreau</b></p>
<p>
That quote always gets credited to Thoreau instead of me. I believe I
told you two weeks ago to "blog more" which is a less flowery approach
to Thoreau's basic sentiment. He's such a snooze anyway - has anybody
really ever read all of Walden? ;)
</p>
<p>
-M http://millatonkonogy.blogspot.com
</p>
<address class="signature">
<span class="author">Milla Tonkonogy</span>
<span class="date">2006-08-01 21:27:59</span>
</address>
</div>

<p></div></p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jul 24, 2006
     - 1 minute read 
     - <a href="https://kurup.org/blog/2006/07/24/bizjournal-inaccuracy/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://kurup.org/categories/investing/">investing </a><a class="label" href="https://kurup.org/categories/stocks/">stocks </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://kurup.org/blog/2006/07/24/bizjournal-inaccuracy/">Bizjournal inaccuracy</a>
  </h1>
</header>

        
          <p>Blair Corp, a company in my portfolio, announced second quarter earnings today. They were disappointing, but not as disappointing as reported by <a href="http://www.bizjournals.com">bizjournals</a>.</p>

<p><a href="http://biz.yahoo.com/bizj/060724/1320068.html">&ldquo;Blair Corp. swings to loss&rdquo;</a> is the title of the article. While dramatic, it&rsquo;s completely wrong.</p>

<blockquote>
<p>Blair Corp., a catalog clothing retailer and direct marketer, reported a loss in the second quarter as sales fell nearly 5 percent.</p>
</blockquote>

<p>False. They reported a profit of $233,000 in the second quarter.</p>

<blockquote>
<p>Blair said its second-quarter results were negatively impacted by the sale of its credit portfolio and last August&rsquo;s stock buyback of 4.4 million shares.</p>
</blockquote>

<p>Not true. The buyback doesn&rsquo;t affect the operating results. If anything, they made the reported results look <strong>better</strong> than they really are. The stock buyback reduced the amount of outstanding shares by about one-half, so the reported earnings-per-share (EPS) results are about twice what they would have been without the buyback.</p>

<p>None of this is to deny the fact that Blair&rsquo;s results were terrible and that the stock price has been even worse. I&rsquo;m a little appeased by the fact that web sales increased by about 18% versus last quarter. Perhaps a few smart minds will start pursing the web angle as the wave of the future!</p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jun 12, 2006
     - 1 minute read 
     - <a href="https://kurup.org/blog/2006/06/12/doc-on-board/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://kurup.org/categories/medicine/">medicine </a><a class="label" href="https://kurup.org/categories/magazine/">magazine </a><a class="label" href="https://kurup.org/categories/running/">running </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://kurup.org/blog/2006/06/12/doc-on-board/">Doc on Board</a>
  </h1>
</header>

        
          <p>Stop what you&rsquo;re doing and go buy the July 2006 issue of <a href="http://www.runnersworld.com">Runner&rsquo;s World</a>. Flip to page 49 and read the fine article by Scott Douglas on things a runner should discuss with their physician.</p>

<p>Yep, the &ldquo;Vinod Kurup&rdquo; quoted is yours truly! I&rsquo;m really grateful to Scott for using me as a source and thus making my dream of being in Runner&rsquo;s World come true. :)</p>

<p>Here&rsquo;s the <a href="http://www.runnersworld.com/article/0,5033,s6-78-0-0-9823,00.html">online version of the article</a>, but go check out the magazine because it&rsquo;s, you know, much cooler.</p>

<p>Also check out <a href="http://www.scottdouglas.biz">Scott&rsquo;s site</a> for more
interesting articles about running.</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>Dr. Kurup</b></p>
<p>
You are freaking amazing!
</p>
<address class="signature">
<span class="author">Unregistered Visitor</span>
<span class="date">2006-07-09 17:05:45</span>
</address>
</div>

<p></div></p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">May 16, 2006
     - 3 minute read 
     - <a href="https://kurup.org/blog/2006/05/16/automated-testing-rules/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://kurup.org/categories/programming/">programming </a><a class="label" href="https://kurup.org/categories/tcl/">tcl </a><a class="label" href="https://kurup.org/categories/testing/">testing </a><a class="label" href="https://kurup.org/categories/openacs/">openacs </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://kurup.org/blog/2006/05/16/automated-testing-rules/">Automated Testing Rules</a>
  </h1>
</header>

        
          <p>Automated testing is a good thing. For my running log application, I have a proc that creates a new log for a user, called rl::runner::new. If you happen to call it for a user who already has a log, it returns the already created log. When I created the proc way back when, I also created an automated test to make sure that creation worked and that redundant calls returned the orignal log.</p>

<p>Over time, I added some code to make sure that users are given proper permissions on their log. Anytime you make a change, you should run your tests, but of course, I didn&rsquo;t :-) Well, today I did and my test now failed.</p>

<p>Here is the relevant (edited) code:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tcl" data-lang="tcl"><span style="color:#719e07">set</span> runner_id <span style="color:#719e07">[</span><span style="color:#268bd2">db_nextval</span> acs_object_id_seq<span style="color:#719e07">]</span> 
set ret_val <span style="color:#719e07">[</span><span style="color:#268bd2">db_exec_plsql</span> new_runner <span style="color:#719e07">{}]</span>
<span style="color:#268bd2">permission</span><span style="color:#719e07">::</span>grant <span style="color:#719e07">-</span>party_id <span style="color:#268bd2">$user_id</span> <span style="color:#719e07">-</span>object_id <span style="color:#268bd2">$runner_id</span> <span style="color:#719e07">-</span>privilege admin
<span style="color:#268bd2">permission</span><span style="color:#719e07">::</span>grant <span style="color:#719e07">-</span>party_id <span style="color:#268bd2">$user_id</span> <span style="color:#719e07">-</span>object_id <span style="color:#268bd2">$runner_id</span> <span style="color:#719e07">-</span>privilege write</code></pre></div>
<p>The error was happening in <code>permission::grant</code>. It was complaining that <code>$runner_id</code> wasn&rsquo;t a valid acs_object. What&rsquo;s going on? It looks like it should work. The problem is that I should be granting the permission on <code>ret_val</code>, not on <code>runner_id</code>. (Probably a bad choice of variable names). The first time a log is created, <code>db_exec_plsql</code> returns a value which happens to be the same as <code>runner_id</code>. The second time it&rsquo;s called, it returns a value which is <strong>different</strong> and <code>permission::grant</code> fails.</p>

<p>I would never have caught this error until I tried to call <code>rl::runner::new</code> the second time on the same user. Which would make it one of those very difficult to track bugs. Automated testing saved me a lot of annoying debugging.</p>

<p>That said, I wish OpenACS&rsquo;s testing facilities were better. I worked on a couple other bugs today and I&rsquo;m trying really hard to write tests to expose bugs before fixing them, but it&rsquo;s really a strain. Especially when you need to do a combination of black box and white box testing. I&rsquo;d like to make testing easier in OpenACS, but I&rsquo;m not sure if I have the brainpower :-)</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>Improving Testing</b></p>
<p>
Vinod,
</p>
<p>
There is definitely room for improvement. You can specify test
dependency, I think, so you can create a test package environment,
then run several tests using that setup. I haven't tried that yet, but
it should help.
</p>
<p>
Anothing thing to keep in mind is that testing can expose places in
your code that might need to be decoupled. That is one of the
advantages of testing, by thinking of how to run the code is isolation
in the test, you can discover a better design :)
</p>
<address class="signature">
<span class="author">Dave Bauer</span>
<span class="date">2006-05-17 07:27:51</span>
</address>
</div>

<p></div></p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">May 14, 2006
     - 2 minute read 
     - <a href="https://kurup.org/blog/2006/05/14/new-features-coming-in-tcl-8.5/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://kurup.org/categories/tcl/">tcl </a><a class="label" href="https://kurup.org/categories/programming/">programming </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://kurup.org/blog/2006/05/14/new-features-coming-in-tcl-8.5/">New Features coming in Tcl 8.5</a>
  </h1>
</header>

        
          <p>I was looking at the <a href="http://www.tcl.tk/man/tcl8.4/TclCmd/split.htm">Tcl 8.4 man page for &lsquo;split&rsquo;</a> and saw this example code:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tcl" data-lang="tcl"><span style="color:#586e75">## Split into fields on colons
</span><span style="color:#586e75"></span><span style="color:#719e07">set</span> fields <span style="color:#719e07">[</span><span style="color:#b58900">split</span> <span style="color:#268bd2">$rec</span> <span style="color:#2aa198">&#34;:&#34;</span><span style="color:#719e07">]</span>
<span style="color:#586e75">## Assign fields to variables and print some out...
</span><span style="color:#586e75"></span><span style="color:#b58900">lassign</span> <span style="color:#268bd2">$fields</span> userName password uid grp longName homeDir shell</code></pre></div>
<p>It shows how to split a string using &lsquo;:&rsquo; as the delimiter. The interesting part is the &lsquo;lassign&rsquo; statement. I&rsquo;d never seen that before. I&rsquo;ve always done something annoying like this:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-tcl" data-lang="tcl"><span style="color:#719e07">set</span> fields <span style="color:#719e07">[</span><span style="color:#b58900">split</span> <span style="color:#268bd2">$rec</span> <span style="color:#2aa198">&#34;:&#34;</span><span style="color:#719e07">]</span>
<span style="color:#719e07">set</span> userName <span style="color:#719e07">[</span><span style="color:#b58900">lindex</span> <span style="color:#268bd2">$fields</span> <span style="color:#2aa198">0</span><span style="color:#719e07">]</span>
<span style="color:#719e07">set</span> password <span style="color:#719e07">[</span><span style="color:#b58900">lindex</span> <span style="color:#268bd2">$fields</span> <span style="color:#2aa198">1</span><span style="color:#719e07">]</span>
<span style="color:#719e07">set</span> uid <span style="color:#719e07">[</span><span style="color:#b58900">lindex</span> <span style="color:#268bd2">$fields</span> <span style="color:#2aa198">2</span><span style="color:#719e07">]</span>
<span style="color:#719e07">set</span> grp <span style="color:#719e07">[</span><span style="color:#b58900">lindex</span> <span style="color:#268bd2">$fields</span> <span style="color:#2aa198">3</span><span style="color:#719e07">]</span>
<span style="color:#719e07">set</span> longName <span style="color:#719e07">[</span><span style="color:#b58900">lindex</span> <span style="color:#268bd2">$fields</span> <span style="color:#2aa198">4</span><span style="color:#719e07">]</span>
<span style="color:#719e07">set</span> homeDir <span style="color:#719e07">[</span><span style="color:#b58900">lindex</span> <span style="color:#268bd2">$fields</span> <span style="color:#2aa198">5</span><span style="color:#719e07">]</span>
<span style="color:#719e07">set</span> shell <span style="color:#719e07">[</span><span style="color:#b58900">lindex</span> <span style="color:#268bd2">$fields</span> <span style="color:#2aa198">6</span><span style="color:#719e07">]</span></code></pre></div>
<p>How could I have overlooked &lsquo;lassign&rsquo; all these years? After berating my idiocy for a few minutes, I tried &lsquo;lassign&rsquo; out and Tcl replied &lsquo;invalid command name&rsquo; . Turns out I&rsquo;m not as stupid as I thought. :-) &lsquo;lassign&rsquo; is new in Tcl 8.5 (but seems to have snuck in the backdoor of the 8.4 docs). I decided to see what else was <a href="http://www.tcl.tk/software/tcltk/8.5.html">coming in 8.5</a>.</p>

<ul>
<li>Dictionaries. These are associative arrays which reportedly are better than Tcl arrays, but I&rsquo;m not sure why.</li>
<li>** as an exponentiation operator</li>
<li>Instead of doing: <code>if {[lsearch -exact $list $item] != -1}</code>, the new &lsquo;in&rsquo; operator lets you do <code>if {$item in $list}</code>. There&rsquo;s also a &lsquo;ni&rsquo; operator for &lsquo;not in&rsquo;.</li>
<li>Plenty of other stuff, none of which really caught my eye.</li>
</ul>

<p>Tcl 8.5 is still alpha, so I&rsquo;m sticking with 8.4 (and my annoying
code) for the moment.</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>What about this</b></p>
<p>
Or just do
</p>

<pre><code>foreach {userName password uid grp longName homeDir shell} [lrange fields 0 6] {break}
# We do an lrange here, otherwise values would be set wrong
# in case someone accidentally supplies a list with too many elements,
# because then the foreach loop would run more than once
</code></pre>
<p>
I just learned the lrange trick yesterday :)
</p>
<p>
I got caught by the over-optimistic 8.4 docs as well. lassign remove
the risk where you need to use the lrange call.
</p>
<address class="signature">
<span class="author">Dave Bauer</span>
<span class="date">2006-05-14 19:56:49</span>
</address>
</div>

<div class="my-comment">
<p><b>Much better</b></p>
<p>
The lrange trick is cleaner than my code. Thanks Dave!
</p>
<address class="signature">
<span class="author">Vinod Kurup</span>
<span class="date">2006-05-15 20:42:37</span>
</address>
</div>

<div class="one-comment">
<p><b>Look also at OpenACS API</b></p>
<p>
The 'util_unlist' API is the exact equivalent of 'lassign'.
</p>
<address class="signature">
<span class="author">Anonymous</span>
<span class="date">2006-07-05 02:30:37</span>
</address>
</div>

<div class="my-comment">
<p><b>Thanks</b></p>
<p>
Thanks - I didn't know about util_unlist. There are so many cool
little-known functions in the OpenACS API
</p>
<address class="signature">
<span class="author">Vinod Kurup</span>
<span class="date">2006-07-05 14:42:46</span>
</address>
</div>

<p></div></p>

        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">May 11, 2006
     - 2 minute read 
     - <a href="https://kurup.org/blog/2006/05/11/investment-update-may-2006/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://kurup.org/categories/investing/">investing </a><a class="label" href="https://kurup.org/categories/quarterly/">quarterly </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://kurup.org/blog/2006/05/11/investment-update-may-2006/">Investment Update - May 2006</a>
  </h1>
</header>

        
          <p>I sold 3 stocks (<a href="http://finance.yahoo.com/q?s=OUTL">OUTL</a>, <a href="http://finance.yahoo.com/q?s=MRINA.PK">MRINA.PK</a> and <a href="http://finance.yahoo.com/q?s=KBALB">KBALB</a>) and bought 5 (<a href="http://finance.yahoo.com/q?s=RSC">RSC</a>, <a href="http://finance.yahoo.com/q?s=JAX">JAX</a>, <a href="http://finance.yahoo.com/q?s=EEI">EEI</a>, <a href="http://finance.yahoo.com/q?s=KEYN">KEYN</a> and <a href="http://finance.yahoo.com/q?s=STS">STS</a>).</p>

<table cellspacing="0" summary="Stocks I sold this quarter."> <tr> <th>Sold stocks</th>  <th>Purchased</th>  <th>Total Return</th> <th>Reason for sell</th> </tr>  <tr class="list-odd"> <td>Outlook Group ([OUTL](http://finance.yahoo.com/q?s=OUTL))</td>   <td>Feb 2005</td>  <td>67.65%</td> <td>OUTL is being acquired and taken private at $13.50 per share in a transaction scheduled to close sometime this summer. I decided to sell now at $13.20 rather than wait a few months for an extra 30 cents. The risk is that another acquirer might offer a higher price before the current deal closes. My gut says that won't happen.</td> </tr>  <tr class="list-even"> <td>McRae Industries ([MRINA.PK](http://finance.yahoo.com/q?s=MRINA.PK))</td>   <td>Nov 2005</td>  <td>-12.79%</td> <td>MRINA.PK purposefully delisted because they felt the costs of being a listed company were too expensive. Filing and reporting requirements have increased due to Sarbanes-Oxley legislation and this is taking a toll on a lot of small companies. I've made the decision not to hold delisted companies for a variety of reasons. They're less liquid, so it's harder to get in and out of them. They're subject to fewer reporting requirements, so it's harder to see how they are doing. Most importantly, my standard online sources of financial info don't have much data about delisted companies (Yahoo, Reuters). </td> </tr>  <tr class="list-odd"> <td>Kimball International ([KBALB](http://finance.yahoo.com/q?s=KBALB))</td>   <td>Nov 2005</td>  <td>43.53%</td> <td>KBALB exceeded my market cap cutoff.</td> </tr>  </table>

<p>Here&rsquo;s how the rest of my portfolio is doing as of April 30th, 2006.</p>

<table cellspacing="0" summary="Stocks I currently own."> <tr> <th>Current Holdings</th>  <th>Purchased</th>  <th>Total Return (so far)</th> </tr>  <tr class="list-odd"> <td>Deswell Industries ([DSWL](http://finance.yahoo.com/q?s=DSWL))</td>  <td>Sep 2004</td>  <td>-23.25%</td> </tr>  <tr class="list-even"> <td>Patrick Industries ([PATK](http://finance.yahoo.com/q?s=PATK))</td>  <td>Feb 2005</td>  <td>21.25%</td> </tr>  <tr class="list-odd"> <td>All American Semiconductor ([SEMI](http://finance.yahoo.com/q?s=SEMI))</td>  <td>Feb 2005</td> <td>-3.23%</td> </tr>  <tr class="list-even"> <td>Cobra Electronics ([COBR](http://finance.yahoo.com/q?s=COBR))</td>  <td>Feb 2005</td>  <td>54.08%</td> </tr>  <tr class="list-odd"> <td>StarTek Inc.([SRT](http://finance.yahoo.com/q?s=SRT))</td>  <td>Aug 2005</td>  <td>65.70%</td> </tr>  <tr class="list-even"> <td>Blair Corp. ([BL](http://finance.yahoo.com/q?s=BL))</td>  <td>Aug 2005</td>  <td>-1.81%</td> </tr>  <tr class="list-odd"> <td>Communication Systems Inc. ([JCS](http://finance.yahoo.com/q?s=JCS))</td>  <td>Aug 2005</td>  <td>15.13%</td> </tr>  <tr class="list-even"> <td>Champion Industries ([CHMP](http://finance.yahoo.com/q?s=CHMP))</td> <td>Nov 2005</td>  <td>45.94%</td> </tr>  </table>

        
      </article>
      
      
      






<div class="pagination">

  
  
  
  
  <a href="/" aria-label="First" class="label-pagination"><i class="fa fa-angle-double-left fa-lg"></i></a>
  

  
  
  <a href="/page/12/" aria-label="Previous" class="label-pagination"><i class="fa fa-angle-left fa-lg"></i></a>
  

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

  
  
  <a href="/page/14/" aria-label="Next" class="label-pagination"><i class="fa fa-angle-right fa-lg"></i></a>
  

  
  
  <a href="/page/30/" aria-label="Last"><i class="fa fa-angle-double-right fa-lg"></i></a>
  

</div>

  
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    

    <p>
      
    </p>
  </section>

  

  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/vkurup/" title="https://github.com/vkurup/"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a target="_blank" href="https://twitter.com/vkurup/" title="https://twitter.com/vkurup/"><i class="fa fa-twitter fa-3x"></i></a>
      
      <a target="_blank" href="https://keybase.io/vkurup/" title="https://keybase.io/vkurup/"><i class="fa fa-keybase fa-3x"></i></a> 
      
      
      <a target="_blank" href="https://stackoverflow.com/users/347942" title="https://stackoverflow.com/users/347942"><i class="fa fa-stack-overflow fa-3x"></i></a>
      
      
      
      
      

      
      
    </li>
  </ul>

  

  

  
  
  
  
  <section class="even">
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      
      
      
      <li class="post">
        <a href="/blog/2019/11/17/hugo/">Hugo</a>
      </li>
      
      
      
      
      
      <li class="post">
        <a href="/blog/2019/04/08/avik-730/">Avik 7:30</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/12/20/triangle-race-series/">Triangle Race Series</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/12/02/my-nest-journey/">My Nest Journey</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/09/23/composting/">Composting</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/09/22/starting-a-garden/">Starting a garden</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/05/31/history-of-indian-civilization/">History of Indian Civilization</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/05/30/autovacuum-not-running/">Autovacuum not running</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2018/05/29/renaissance-man/">Renaissance Man</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2014/07/28/using-dynamic-queries-in-a-cbv/">Using dynamic queries in a CBV</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2014/07/23/some-emacs-posts/">Some Emacs Posts</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2014/07/22/pygments-on-arch-linux/">Pygments on Arch Linux</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2014/07/21/how-to-create-test-models-in-django/">How to create test models in Django</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2013/01/21/peanut-allergy-a-personal-clinical-review/">Peanut Allergy, a personal clinical review</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2013/01/17/priorities-and-gtd/">Priorities and GTD</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2013/01/16/gtd-again/">GTD again?</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2013/01/15/writing-paralysis/">Writing paralysis</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2013/01/09/steal-my-web-app-idea/">Steal My Web App Idea</a>
      </li>
      
      
      
      <li class="post">
        <a href="/blog/2012/12/30/how-to-change-the-rear-tire-on-a-12-inch-bicycle/">How to change the rear tire on a 12 inch bicycle</a>
      </li>
      
      
    </ul>
  </section>
  
  

  <section class="odd">
    <h1>My Pinboard</h1>
    <ul id="pinboard_linkroll">Fetching linkroll...</ul>
    <p><a href="http://pinboard.in/u:vkurup">My Pinboard Bookmarks &raquo;</a></p>
  </section>
  <script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; 
  var pinboard_user = "vkurup"; 
  var pinboard_count = 10; 
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/js/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
  </script>

</aside>
    
  </div>
</div>
    <footer role="contentinfo">
      <p>Copyright &copy; 2019 Vinod Kurup - <a href="https://kurup.org/license/">License</a> -
        <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank" href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
      </p>
    </footer>

    
    
    

    
      <script>
        var _gaq=[['_setAccount','UA-79447-1'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
      </script>
    
  </body>
</html>
   

