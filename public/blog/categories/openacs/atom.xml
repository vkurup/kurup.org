<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: openacs | Vinod Kurup]]></title>
  <link href="https://www.kurup.org/blog/categories/openacs/atom.xml" rel="self"/>
  <link href="https://www.kurup.org/"/>
  <updated>2018-09-22T21:30:24-04:00</updated>
  <id>https://www.kurup.org/</id>
  <author>
    <name><![CDATA[Vinod Kurup]]></name>
    <email><![CDATA[vinod@kurup.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[NSBrief gets the best guests]]></title>
    <link href="https://www.kurup.org/blog/2012/11/05/nsbrief-gets-the-best-guests"/>
    <updated>2012-11-05T10:38:09-05:00</updated>
    <id>https://www.kurup.org/blog/2012/11/05/nsbrief-gets-the-best-guests</id>
    <content type="html"><![CDATA[<p>I'm not an OS X programmer, but I've really enjoyed 2 recent episodes
of the <a href="http://nsbrief.com/">NSBrief</a> podcast. First was <a href="http://nsbrief.com/59-mark-dalrymple">Mark
Dalrymple's interview</a>. Here was
my 140 character description:</p>

<blockquote class="twitter-tweet"><p>So much geeky fun in @<a href="https://twitter.com/borkware">borkware</a>'s interview. AOLserver, dtrace, OpenDoc, MPW, need I go on? <a href="http://t.co/JWPPvfaa" title="http://nsbrief.com/59-mark-dalrymple">nsbrief.com/59-mark-dalrymâ€¦</a></p>&mdash; Vinod Kurup (@vkurup) <a href="https://twitter.com/vkurup/status/235907385997262848" data-datetime="2012-08-16T01:14:38+00:00">August 16, 2012</a></blockquote>


<script src="https://www.kurup.org//platform.twitter.com/widgets.js" charset="utf-8"></script>


<p>Today, I listened to
<a href="http://nsbrief.com/62-mark-aufflick">Mark Aufflick's interview</a> where
he talks eloquently about starting your own business. I love the
perspective he had on his first business and how shutting it down gave
him the necessary (though painful) experience to make his current
business work. He also talked about the importance of computing
history especially given the availability of interesting subjects. He
ended with great advice on the importance of professionalism.
Paraphrased: "Make sure your team is the most professional side of any
relationship."</p>

<p>I know <a href="http://borkware.com">Mark</a> and
<a href="http://mark.aufflick.com/">Mark</a> from the
<a href="http://openacs.org">OpenACS</a> glory days and it's great to hear how
well they're doing. Computing history was a prominent part of both
talks. I think this is important. Old ideas are always new again. Some
of the ideas that these pioneers had were only limited by the
horsepower we had to work with at the time. Now thanks to Moore's law,
those limitations are gone, so we should re-investigate those ideas.
Or maybe we're all just getting old and like to talk about the
good-old-days. :-) It's nice to see that they both mentioned the
OpenACS period of their programming lives as important. It certainly
was for me. It was also great to hear Mark Aufflick's voice for the
first time, even though I feel like he's been a friend for many years.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Automated Testing Rules]]></title>
    <link href="https://www.kurup.org/blog/2006/05/16/automated-testing-rules"/>
    <updated>2006-05-16T00:00:00-04:00</updated>
    <id>https://www.kurup.org/blog/2006/05/16/automated-testing-rules</id>
    <content type="html"><![CDATA[<p>Automated testing is a good thing. For my running log application, I have a proc that creates a new log for a user, called rl::runner::new. If you happen to call it for a user who already has a log, it returns the already created log. When I created the proc way back when, I also created an automated test to make sure that creation worked and that redundant calls returned the orignal log.</p>

<p>Over time, I added some code to make sure that users are given proper permissions on their log. Anytime you make a change, you should run your tests, but of course, I didn't :-) Well, today I did and my test now failed.</p>

<p>Here is the relevant (edited) code:</p>

<p>{% highlight tcl %}
set runner_id [db_nextval acs_object_id_seq]
set ret_val [db_exec_plsql new_runner {}]
permission::grant -party_id $user_id -object_id $runner_id -privilege admin
permission::grant -party_id $user_id -object_id $runner_id -privilege write
{% endhighlight %}</p>

<p>The error was happening in <code>permission::grant</code>. It was complaining that <code>$runner_id</code> wasn't a valid acs_object. What's going on? It looks like it should work. The problem is that I should be granting the permission on <code>ret_val</code>, not on <code>runner_id</code>. (Probably a bad choice of variable names). The first time a log is created, <code>db_exec_plsql</code> returns a value which happens to be the same as <code>runner_id</code>. The second time it's called, it returns a value which is <strong>different</strong> and <code>permission::grant</code> fails.</p>

<p>I would never have caught this error until I tried to call <code>rl::runner::new</code> the second time on the same user. Which would make it one of those very difficult to track bugs. Automated testing saved me a lot of annoying debugging.</p>

<p>That said, I wish OpenACS's testing facilities were better. I worked on a couple other bugs today and I'm trying really hard to write tests to expose bugs before fixing them, but it's really a strain. Especially when you need to do a combination of black box and white box testing. I'd like to make testing easier in OpenACS, but I'm not sure if I have the brainpower :-)</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>Improving Testing</b></p>
<p>
Vinod,
</p>
<p>
There is definitely room for improvement. You can specify test
dependency, I think, so you can create a test package environment,
then run several tests using that setup. I haven't tried that yet, but
it should help.
</p>
<p>
Anothing thing to keep in mind is that testing can expose places in
your code that might need to be decoupled. That is one of the
advantages of testing, by thinking of how to run the code is isolation
in the test, you can discover a better design :)
</p>
<address class="signature">
<span class="author">Dave Bauer</span>
<span class="date">2006-05-17 07:27:51</span>
</address>
</div>

</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OpenACS in Linux Journal]]></title>
    <link href="https://www.kurup.org/blog/2006/04/26/openacs-in-linux-journal"/>
    <updated>2006-04-26T00:00:00-04:00</updated>
    <id>https://www.kurup.org/blog/2006/04/26/openacs-in-linux-journal</id>
    <content type="html"><![CDATA[<p>Linux Journal featured an <a href="http://www.linuxjournal.com/article/8986">article about a web application written in OpenACS</a>. It's called <a href="http://fungoes.mek.cc/">Fungoes</a> and it tabulates and formats baseball statistics. If I had access to this app when I was a kid, I would've been in heaven. I remember spending hours and hours memorizing stats from the back of baseball cards. I've forgotten most of what I memorized, but I can still rattle off HR stats for most of the 1982 Brewers. This site really takes me back.</p>

<p>Fungoes is still in it's early stages, but Mat apparently has big plans for it. It should be fun to watch.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hit The Wall (a running log)]]></title>
    <link href="https://www.kurup.org/blog/2006/04/21/hit-the-wall-a-running-log"/>
    <updated>2006-04-21T00:00:00-04:00</updated>
    <id>https://www.kurup.org/blog/2006/04/21/hit-the-wall-a-running-log</id>
    <content type="html"><![CDATA[<p>I built a web application to keep track of my running a couple years
ago. I really began using it in earnest during my training for the New
York Marathon last year. I've been meaning to make it available for
others to use for a long time, but it always seemed like there was a
little more work I needed to do on it. While working on it the other
day, I noticed the original timestamp on one of the source files:
<strong>September 21, 2003</strong> Yikes! That's 2 and a half years ago. Enough is
enough &mdash; it's time to let this baby free...</p>

<p><a href="http://kurup.org/run">Hit The Wall</a> is officially version 0.2 and
available for free use by anyone who wants to keep track of their
running. Feel free to look through <a href="http://kurup.org/run/log/log?runner_id=16832">my real log
(read-only)</a> or
<a href="http://kurup.org/run/log/log?runner_id=63350">demorunner's fake log
(read-write)</a> to try it
out.</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>Hit The Wall</b></p>
<p>
Cool little tool Vinod, but after reading the reference on the Wall
and how to avoid it I have some alternative names:
</p>

<ul>
<li>Don't Hit The Wall - A Running Log</li>
<li>Avoiding The Wall - A Runner's Log</li>
<li>Going Through Walls - Running Log</li>
<li>Etc.</li>
</ul>

<address class="signature">
<span class="author">Carl Blesius</span>
<span class="date">2006-04-22 21:41:32</span>
</address>
</div>

<div class="my-comment">
<p><b>Thanks Carl</b></p>
<p>
Good point. I just thought 'Hit The Wall' sounded catchy. And it works
in the same vein as FSF's text pager being named 'less' (rather than
'more'). Get it? :-)
</p>
<p>
Most importantly, it's better than the previous name I had in mind,
which was 'Running Log".
</p>
<address class="signature">
<span class="author">Vinod Kurup</span>
<span class="date">2006-04-23 20:46:04</span>
</address>
</div>


</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Prettier permalinks]]></title>
    <link href="https://www.kurup.org/blog/2006/03/28/prettier-permalinks"/>
    <updated>2006-03-28T00:00:00-05:00</updated>
    <id>https://www.kurup.org/blog/2006/03/28/prettier-permalinks</id>
    <content type="html"><![CDATA[<p>Permalink stands for 'permanent link'. When you create a blog post, it gets added to the top of your blog, pushing older entries down. Eventually, posts get pushed off the front page, so it's important that you have a way to refer to old blog posts. A permalink is the link that will always point to a specific post.</p>

<p>OpenACS (lars-blogger) permalinks look like this:</p>

<pre><code>http://kurup.org/blog/one-entry?entry_id=58950
</code></pre>

<p>This works and it's really easy to code, but it doesn't give much information about the content or date of the post.</p>

<p>A lot of other blog packages use permalinks which look like this:</p>

<pre><code>http://kurup.org/blog/2006/03/01/tag-cloud
</code></pre>

<p>It's easy to tell how old the post is, and what it might be about. More importantly, it seems that search engines give URLs like this more weight. So, I've gone ahead and made the changes on my blog. Enjoy!</p>

<p>For the OpenACS geeks, here's <a href="http://kurup.org/acs/blog_permalink">the changes that I made</a>. It won't necessarily apply cleanly against OpenACS, but it will give you an idea of what to change. It includes an automated test to assure you that both the old and new permalinks work.</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>Just don't use the same title twice in one day</b></p>
<p>
You'll end up with ambiguous urls. The util_text_to_url proc can
disambiguate a list of urls for you, and then you'd need to store the
new url in the db.
</p>
<p>
That would also avoid the whole list/loop shenanegins. It would also
be easy to write a little script to go through your existing db and
create the urls for existing blog entries.
</p>
<p>
But that might be considered hard work ;)
</p>
<address class="signature">
<span class="author">Mark Aufflick</span>
<span class="date">2006-05-05 07:11:24</span>
</address>
</div>

<div class="my-comment">
<p><b>Excellent point</b></p>
<p>
I thought about that briefly while I wrote this, but figured, "What
are the chances that I'd write 2 posts in the same day with the same
title?" In other words, I took the easy way out.
</p>
<p>
But adding the permalink to the DB does sound like the right thing to
do, so I'll work on it or head over to <a
href="http://mark.aufflick.com/blog/2006/05/05/friendly-blog-links">your
blog</a> and beg for your code :-)
</p>
<address class="signature">
<span class="author">Vinod Kurup</span>
<span class="date">2006-05-05 16:35:41</span>
</address>
</div>

</div>

]]></content>
  </entry>
  
</feed>
