
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Vinod Kurup</title>
  <meta name="author" content="Vinod Kurup">

  
  <meta name="description" content="I caught the tail-end of a free presentation on iLife at the Apple Store in SoHo this afternoon. iMovie has been sitting around unused on my computer &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://www.kurup.org/blog/page/21/">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/vkurup" rel="alternate" title="Vinod Kurup" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='//fonts.googleapis.com/css?family=Quattrocento' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Quattrocento+Sans' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

<meta name="verify-v1" content="7VLvj7jbZMA24/73SZ9uUEq3SeBuiX3+aSIBRtgH4jQ=" />
<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://vkurup.myopenid.com/" />
<link rel="openid2.local_id" href="http://vkurup.myopenid.com/" />
<link rel="openid2.provider" href="http://www.myopenid.com/server" />
<meta http-equiv="X-XRDS-Location" content="http://www.myopenid.com/xrds?username=vkurup.myopenid.com" />

<link href="/favicon.ico" rel="shortcut icon" />

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-79447-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Vinod Kurup</a></h1>
  
    <h2>Hospitalist/programmer in search of the meaning of life</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/vkurup" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.kurup.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/about.html">About Me</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/categories">Categories</a></li>
  <li><a href="/medicine">Medicine</a></li>
  <li><a href="/running">Running</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2004/03/28/iapplestore">iAppleStore</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-03-28T00:00:00-05:00" pubdate data-updated="true">Mar 28<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I caught the tail-end of a free presentation on <a href="http://www.apple.com/ilife/">iLife</a> at the <a href="http://www.apple.com/retail/soho/">Apple Store in SoHo</a> this afternoon. iMovie has been sitting around unused on my computer for too long. Inspired by how easy the instructor made it seem, I finally got around to launching iMovie and creating this montage of our <a href="http://kurup.org/files/telluride.mov">Telluride trip (5.0 MB)</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2004/03/22/more-telluride">More Telluride</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-03-22T00:00:00-05:00" pubdate data-updated="true">Mar 22<span>nd</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Sung and Lei sent me some more pics and movies from our Telluride trip. I&#8217;ve posted a couple of the pics at the <a href="http://kurup.org/photo/album?album%5fid=14178&amp;amp;page=3">end of my Telluride album</a>. I especially like <a href="http://kurup.org/files/Telluride.AVI">this movie (5.2 M)</a>. I&#8217;m the one struggling down the slope and then Boris comes flashing through at the end.</p>

<p><img src="/images/sung-air-big.jpg" height="500" width="588" alt="Sung Air Big"/></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2004/03/19/strongbad">Strongbad</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-03-19T00:00:00-05:00" pubdate data-updated="true">Mar 19<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Strongbad&#8217;s <a href="http://www.homestarrunner.com/sbemailahundred.html">100th email</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2004/03/08/dont-use-archive-and-install">Don&#8217;t Use &#8220;Archive and Install&#8221;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-03-08T00:00:00-05:00" pubdate data-updated="true">Mar 8<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Thanks to the fine folks at <a href="http://badgertronics.com/blog">badgertronics</a>, I was able to upgrade my Powerbook to Panther free-of-charge. I initially did an &#8220;Archive and Install&#8221; upgrade, as recommended by the upgrade guide at <a href="http://www.tidbits.com/takecontrol/#upgrading">TidBITS</a> (easily worth the measly $5, IMHO). But soon after the install, I noticed that my system seemed a lot slower. I couldn&#8217;t pinpoint a specific problem, but things just seemed sluggish. I definitely noticed that DNS seemed to be broken. I was moved to act when I noticed that my IMAP client (<a href="http://gopher.quux.org:70/devel/offlineimap">offlineimap</a>) took 15 minutes to sync 48 IMAP Maildirs between my Mac and my server. According to the offlineimap docs, syncing 50 Maildir folders should take around 3 seconds. Hmmm&#8230;. that seems a little wrong.</p>

<p>I searched the Internet but was unable to find a specific fix for this problem. A few posters intimated that doing a fresh &#8220;Erase and Install&#8221; of Mac OS X 10.3 was better than using the &#8220;Archive and Install&#8221; option. So, this weekend, I backed up my HD using <a href="http://www.bombich.com/software/ccc.html">Carbon Copy Cloner</a>, erased my HD, and did a fresh install of Mac OS X Panther.</p>

<p>As expected, everything is quick and zippy again. A sync of my IMAP folders takes 15 seconds now, as opposed to 15 <em>minutes</em>. While I&#8217;m happy with the result, I wish I could figure out why the &#8220;Archive and Install&#8221; option resulted in such a poor outcome.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2004/03/08/darwinports">Darwinports</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-03-08T00:00:00-05:00" pubdate data-updated="true">Mar 8<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In the process of installing Panther from scratch, I decided to use <a href="http://darwinports.opendarwin.org/">DarwinPorts</a>. It&#8217;s a packaging system for the abundant UNIX <a href="http://www.fsf.org/">free software</a> available on Mac OS X. I had previously used <a href="http://fink.sf.net">Fink</a> which, while being an admirable project, seemed a little opaque to me. I never quite knew where data was being installed and which locations were being searched to see if prerequisites were present. Darwinports seems to be a little better at finding programs/libraries that are already installed. I freely admit my ignorance in this matter, though. It may simply be that I understand Darwinports better than I did Fink, but that, in itself is an important criteria.</p>

<p>Here are the ports that I currently have installed:</p>

<pre><code>[02:17:13 vinod]:~ $ port installed The following ports are installed:
     gettext-0.10.40
     keychain-2.0.3
     mutt-1.4.2.1
     offlineimap-4.0.0
     readline-4.3
     urlview-0.9
     wget-1.9.1
</code></pre>

<p>All of the above ports are available from darwinports except offlineimap. I built that one myself. Here is the Portfile for offlineimap:</p>

<pre><code>[02:18:42 vinod]:~/dports-dev/mail/offlineimap $ cat Portfile 
# $Id: $  PortSystem          1.0 
name                offlineimap 
version             4.0.0 
categories          mail 
maintainers         vinod@kurup.org 
platforms           darwin 
homepage            http://gopher.quux.org:70/devel/offlineimap 
description         IMAP/Maildir synchronization and reader support 
long_description    OfflineIMAP is a tool to simplify your e-mail reading. With OfflimeIMAP, you can:   
                    * Read the same mailbox from multiple computers, and have your     
                      changes (deletions, etc.) be automatically reflected on     
                      all computers   
                    * Use various mail clients to read a single mail box   
                    * Read mail while offline (on a laptop) and have all changes     
                      synchronized when you get connected again   
                    * Read IMAP mail with mail readers that do not support IMAP   
                    * Use SSL (secure connections) to read IMAP mail even if your reader     
                      doesn't support SSL   
                    * Synchronize your mail using a completely safe and fault-tolerant     
                      algorithm.  (At least I think it is!)   
                    * Customize which mailboxes to synchronize with regular expressions     
                      or lists.   
                    * Synchronize your mail two to four times faster than with other tools     
                      or other mail readers' internal IMAP support.  In short, OfflineIMAP 
                      is a tool to let you read mail how YOU want to.   
distname            ${name}_${version} 
master_sites        http://gopher.quux.org:70/devel/offlineimap/ 
checksums           md5 13e355c8a957dddfe9b7486821d83370  
depends_lib         bin:python2.3:python23  
# tarball extracts as offlineimap, not offlineimap-4.0.0 
worksrcdir          ${name}  
use_configure       no  
build.cmd           python setup.py 
build.target        build  
destroot.cmd        python setup.py 
destroot.destdir    --prefix=${destroot}${prefix}  
post-destroot {         # remind user to define/add installed path to python path         
                        ui_msg " be sure the install path is included in your python path:"
                        # FIXME: hardcoding 2.3 isn't right here         
                        ui_msg "tcsh: setenv PYTHONPATH $PYTHONPATH:${prefix}/lib/python2.3/site-packages"         
                        ui_msg "bash: export PYTHONPATH=$PYTHONPATH:${prefix}/lib/python2.3/site-packages"          
                        xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}         
                        xinstall -m 644 -W ${worksrcpath} manual.html manual.pdf manual.ps
                                 manual.txt ChangeLog COPYING COPYRIGHT UPGRADING
                                 ${destroot}${prefix}/share/doc/${name}         
                        xinstall -d -m 755 ${destroot}${prefix}/share/doc/${name}/examples
                        xinstall -m 644 -W ${worksrcpath} offlineimap.conf offlineimap.conf.minimal                  
                                 ${destroot}${prefix}/share/doc/${name}/examples
                        install -m 644 -W ${worksrcpath} offlineimap.1
                                ${destroot}${prefix}/share/man/man1 }
</code></pre>

<p>I haven&#8217;t submitted this to the darwinports project yet because they recommend installing the software on a fresh Mac OS X install to be sure that you&#8217;ve correctly specified any dependencies. I haven&#8217;t had time to do that yet. I hope to, though, because I find the port system to be very intuitive. Building an OpenACS port on Mac OS X seems doable, but I need to look into how upgrades are handled. <a href="http://without.net/wtem">Walter McGinnis</a> has sent me his instructions for building an OpenACS installation using darwinports, but I think we can make it easier, by building simple Portfiles for each of the required pieces. Here are Walter&#8217;s detailed instructions:</p>

<pre><code># install darwinports 
# see instructions on darwinports.com # using openacs-head for server name for convoluted reasons... 
# i also use ~/Development/web rather than /var/lib/aolserver for my 
# server source 
# darwinports working directories under ~/Development/darwinports/ 
# you need to add /opt/local/bin or something to your path in .bash_profile 
# for the port command to work 
# see darwinports install doc for details
Delphy:~ walter$ sudo port -v -d install postgresql
Password: ...
Delphy:~ walter$ pwd
/Users/walter
Delphy:~ walter$ cd /opt/local/
Delphy:/opt/local walter$ mkdir pgsql
Delphy:/opt/local walter$ mkdir pgsql/data
Delphy:/opt/local walter$ sudo chown -R walter:staff pgsql
Delphy:/opt/local walter$ initdb -D pgsql/data
...
Delphy:/opt/local walter$ pg_ctl -D pgsql/data -l logfile start
postmaster successfully started
Delphy:/opt/local walter$ createlang plpgsql template1
Delphy:/opt/local walter$ createdb openacs-head
CREATE DATABASE
Delphy:/opt/local walter$ createuser openacs-head
Shall the new user be allowed to create databases? (y/n) y
Shall the new user be allowed to create more new users? (y/n) y
CREATE USER
Delphy:/opt/local walter$ sudo port -v -d install aolserver
... 
Delphy:/opt/local walter$ cd ~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0/
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0 walter$ sudo port -v -d install wget
Password: ... 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0 walter$ sudo wget http://twtelecom.dl.sourceforge.net/sourceforge/aolserver/nscache-1.5.tar.gz
Password: ... 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0 walter$ sudo wget http://twtelecom.dl.sourceforge.net/sourceforge/aolserver/nspostgres-4.0.tar.gz
...
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0 walter$ sudo wget http://twtelecom.dl.sourceforge.net/sourceforge/aolserver/nssha1-0.1.tar.gz
... 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0 walter$ sudo cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/aolserver login
Password:  (Logging in to anonymous@cvs.sourceforge.net)
CVS password: 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0 walter$ sudo cvs -z3 -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/aolserver co nsrewrite
... 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0 walter$ sudo tar xvfz nscache-1.5.tar.gz ; sudo tar xvfz nssha1-0.1.tar.gz ; sudo tar xvfz nspostgres-4.0.tar.gz
... 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0 walter$ cd nscache-1.5 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0/nscache-1.5 walter$ NSHOME=..; export NSHOME 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0/nscache-1.5 walter$ sudo make install
... 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0/nscache-1.5 walter$ cd ../nsrewrite/ 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0/nsrewrite walter$ sudo make install
... 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0/nsrewrite walter$ cd .. 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0 walter$ cd nssha1-0.1 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0/nssha1-0.1 walter$ sudo make install 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0/nssha1-0.1 walter$ cd ../nspostgres-4.0 
# edit the Makefile from:
# &lt; MODLIBS   = -L$(PGLIB) -lpq
# to
# MODLIBS   = -L$(PGLIB) -lpq -lnsdb 
Delphy:~/Development/darwinports/dports/www/aolserver/work/aolserver-4.0/nspostgres-4.0 walter$ sudo make install POSTGRES=/opt/local ACS=1
... 
Delphy:/opt/local walter$ cd /opt/local 
Delphy:/opt/local walter$ sudo mkdir src
Delphy:/opt/local walter$ sudo chmod 775 src  
Delphy:/opt/local walter$ wget http://www.tdom.org/tDOM-0.7.8.tar.gz
...
Delphy:/opt/local walter$ cd src/
Delphy:/opt/local/src walter$ tar xvfz ../tDOM-0.7.8.tar.gz 
Delphy:/opt/local/src walter$ rm ../tDOM-0.7.8.tar.gz
Delphy:/opt/local/src walter$ cd tDOM-0.7.8/ 
Delphy:/opt/local/src/tDOM-0.7.8 walter$ cd unix/
Delphy:/opt/local/src/tDOM-0.7.8/unix walter$ ../configure --enable-threads --disable-tdomalloc --prefix=/opt/local/aolserver 
Delphy:/opt/local/src/tDOM-0.7.8/unix walter$ sudo make install
... 
Delphy:/opt/local/src/tDOM-0.7.8/unix walter$ cd
Delphy:~ walter$ cd Development/
Delphy:~/Development walter$ mkdir web
Delphy:~/Development walter$ cd web 
Delphy:~/Development/web walter$ cvs -z3 -d walterg@openacs.org:/cvsroot co acs-core
password: ... 
# i move the openacs code to openacs-head
# mv openacs-4 openacs-head
# edit openacs-head/etc/config.tcl to be localhost, etc
! set hostname                  localhost
! set address                   127.0.0.1 
! set server                    "openacs-head"  
set servername                "New OpenACS Installation - Development" 
! set serverroot                "/Users/walter/Development/web/${server}" 
Delphy:~/Development/web/openacs-head walter$ /opt/local/aolserver/bin/nsd -ft ~/Development/web/openacs-head/etc/config.tcl
</code></pre>

<p>I think Fink and Darwinports can coexist since Fink is installed in <code>/sw</code> and Darwinports in <code>/opt/local</code>, but I&#8217;m sticking with Darwinports alone, for now.</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>darwinports distribution</b></p>
<p>
I agree that a lot of the build process for an openacs install
could be handled with things like dependencies on other ports using
Darwinports.
</p>
<p>
It would be pretty slick to be able to do something like the
following:
</p>
<p>
<blockquote><code>sudo port install openacs -type personal -name
myopenacs.com -ip 123.456.78.9 -admin_email
admin@myopenacs.com</code></blockquote>
</p>
<p>I&#8217;m not sure that the above passing of install parameters can
happen yet with the <code>port</code> command.  A scenario like this
may be necessary:
</p>
<blockquote><code>sudo port install openacs-deps-and-src</code></blockquote>
<blockquote><code>sudo /opt/local/openacs/configure -type personal -name myopenacs.com -ip 123.456.78.9 -admin_email admin@myopenacs.com</code></blockquote>
<blockquote><code>sudo openacs start # really a wrapper for for checking for db running, if not start it, and starting a server's nsd process</code></blockquote>
<p>After getting to one or the other scenarios its a simple step to
creating an Applescript UI for configuring the parameters and calling
the command.
</p>
<p>It is also important to note that Darwinports, at least in theory,
could be used on other Unix variants like Linux and FreeBSD.  The big
trouble I see is that it isn&#8217;t compliant with the standards that the
OpenACS docs use.  However, I must admit that I&#8217;m kind of partial to
the idea of having a separate <code>/opt</code> branch for stuff.
</p>

<address class="signature">
<span class="author">Walter McGinnis</span>
<span class="date">2004-03-20 14:28:36</span>
</address>
</div>

<div class="one-comment">
<p><b>Update</b></p>
<p>
I&#8217;m in the process of installing OpenACS for development on a
different machine than previously.  I&#8217;ve updated to the latest
versions of software.  As a result, if you follow my previous
directions, you&#8217;ll need to add a new flag to the &#8220;sudo port -v -d
install&#8221; commands in order to keep the source files around (you need
these to build other software later), namely &#8220;-k&#8221; for keep the working
directories.
</p>
<address class="signature">
<span class="author">Walter McGinnis</span>
<span class="date">2004-12-03 17:10:46</span>
</address>
</div>

</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2004/02/20/telluride">Telluride</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-02-20T00:00:00-05:00" pubdate data-updated="true">Feb 20<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Sung, Lei, Boris, Mimi and I spent a great week skiing in <a href="http://www.telluride.com/useful/index.asp">Telluride, Colorado</a>. I&#8217;m not sure what was better &mdash; learning skiing from the masters in the beautiful Rocky Mountains or eating home-cooked, bacon-laden meals. Not to mention the pecan pie! Here are <a href="http://kurup.org/photo/album?album_id=14178">the photos</a>. Watch <a href="/files/MVI_2266.AVI">Sung the snowboarder (609 K)</a> and <a href="/files/MVI_2286.AVI">the crew coming in for lunch (3.5 M)</a>.</p>

<p><img src="/images/telluride.jpg" alt="Group pic" />{: .inset height=500 width=667}</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2004/02/08/christmas-break">Christmas Break</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-02-08T00:00:00-05:00" pubdate data-updated="true">Feb 8<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I uploaded the <a href="http://kurup.org/photo/album?album_id=13244">pics from my trip home over Christmas</a>. Nope, this is not our house.  <img src="/images/christmas-lights.jpg" height="500" width="667" alt="Christmas Lights"/></p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>untitled</b></p>
<p>
wow.  I wish I had that much spare time.
</p>
<address class="signature">
<span class="author">Mark Dalrymple</span>
<span class="date">2004-02-11 16:06:45</span>
</address>
</div>

<div class="one-comment">
<p><b>info@myXmasHouse.com</b></p>
<p>
Please don&#8217;t hesitate to delete this post if you believe it is inappropriate.
</p>
<p>
In late 2007 we are launching a website where people like yourself can
upload their Christmas decorated houses. If there is enough interest
it may later evolve to a contest. myXmasHouse dot com is the address
</p>
<p>
Thank you and my apologies for the intrusion.
</p>
<address class="signature">
<span class="author">Unregistered Visitor</span>
<span class="date">2007-10-16 07:10:40</span>
</address>
</div>

</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2004/01/15/compiling-openfts-on-mac-os-x">Compiling OpenFTS on Mac OS X</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-01-15T00:00:00-05:00" pubdate data-updated="true">Jan 15<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It wasn&#8217;t easy, but I finally got OpenFTS-0.3.2-tcl to compile on Mac OS X (10.2.8). I started by reading the excellent Mac OS X porting guides from <a href="http://fink.sourceforge.net/doc/porting/basics.php">Fink</a> and <a href="http://developer.apple.com/documentation/Porting/Conceptual/PortingUnix/intro/chapter_1_section_1.html">Apple</a>. Unfortunately, the OpenFTS Makefile and configure scripts aren&#8217;t standard, so I had to muck around with things alot. Here&#8217;s the diff:</p>

<pre><code>diff -U 2 -rbB Search-OpenFTS-tcl-0.3.2/aolserver/Makefile  Search-OpenFTS-tcl-0.3.2-vk/aolserver/Makefile 
--- Search-OpenFTS-tcl-0.3.2/aolserver/Makefile Tue Nov 19 14:24:44 2002 
+++ Search-OpenFTS-tcl-0.3.2-vk/aolserver/Makefile  Wed Jan 14 23:23:13 2004 
@@ -13,6 +13,6 @@  
OBJ       = $(SOBJ) $(POBJ) $(OOBJ) nsfts.o  NSFTSLIB  = nsfts.so -LDSO      
= gcc -shared  INC       = -I../include -I$(NS_HOME)/include -I$(NS_HOME)/nsd +MODLIBS += -L/sw/lib -L/usr/local/aolserver/lib -ltcl8.4 -lnsd    .SUFFIXES: .c .h .so .l @@ -26,5 +26,5 @@    $(NSFTSLIB): $(OBJ) - $(LDSO) $(OBJ) $(LIBS) -o $(NSFTSLIB) + $(LDSO) $(OBJ) $(LIBS) -o $(NSFTSLIB) $(MODLIBS)    clean: diff -U 2 -rbB Search-OpenFTS-tcl-0.3.2/configure Search-OpenFTS-tcl-0.3.2-vk/configure --- Search-OpenFTS-tcl-0.3.2/configure   Tue Nov 19 14:24:44 2002 +++ Search-OpenFTS-tcl-0.3.2-vk/configure  Wed Jan 14 22:36:44 2004 @@ -2771,4 +2771,16 @@  fi   +# +# Mac OS X 10.2 +# +# vinodk: not sure if all of this is needed/accurate +if test `uname` = "Darwin"; then +    PLATFORM="osx" +    CC="cc" +    LD="cc" +    CFLAGS="$CFLAGS -no-cpp-precomp" +    LDSO="$LD -flat_namespace -bundle" +fi +  if test $PLATFORM = "unknown"; then          { { echo "$as_me:2774: error: unknown platform" &gt;&amp;amp;5 
</code></pre>

<p>Then, follow the instructions in AOLSERVER.INSTALL. I&#8217;m not too handy with this Makefile/configure stuff, so I&#8217;d appreciate any guidance on how to do this properly :-).</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>Doesn&#8217;t compile on Panther</b></p>
<p>
Hi Vinod,
</p>
<p>
Your fix for makefile doesn&#8217;t seem to be working on Panther. Configure
script goes through but when compiling I get the following error:
</p>
<pre>
cc -o Parser.so -shared Parser.o deflex.o flexparser.o
cc: unrecognized option `-shared'
ld: Undefined symbols:
_main
_Tcl_AppendElement
_Tcl_AppendResult
_Tcl_CreateObjCommand
_Tcl_GetIntFromObj
_Tcl_GetStringFromObj
_Tcl_NewIntObj
_Tcl_NewStringObj
_Tcl_ObjSetVar2
_Tcl_PkgProvide
_Tcl_SetObjResult
make[1]: *** [Parser.so] Error 1
make: *** [parser] Error 2
</pre>
<p>
I&#8217;ll keep on searching for what should be changed and will keep you
posted. Otherwise thanks for spending your time on OS X issues.
</p>

<address class="signature">
<span class="author">Jarkko Laine</span>
<span class="date">2004-02-19 02:31:53</span>
</address>
</div>

<div class="one-comment">
<p><b>-shared option not supported</b></p>
<p>
OK, from apple dev docs:
</p>

<dl>
<dt><code>-shared</code></dt>
<dd>In GCC 2, generates shared liibraries. In GCC 3, this
option is not supported, so you should use libtool (or use ld
directly) instead. Shared libraries in Mac OS X may be different from
those you are accustomed to on other platforms. See <a
href="http://developer.apple.com/documentation/Porting/Conceptual/PortingUnix/compiling/chapter_4_section_7.html#//apple_ref/doc/uid/TP30001003-CH206-TPXREF103">&#8220;Dynamic
Libraries and Plug-ins&#8221;</a>.</dd>
</dl>
<p>Don&#8217;t know how to fix this in this case, though.</p>
<address class="signature">
<span class="author">Jarkko Laine</span>
<span class="date">2004-02-19 02:57:33</span>
</address>
</div>

<div class="my-comment">
<p><b>untitled</b></p>
<p>
Hey Jarkko,
</p>
<p>
I think you&#8217;re trying to compile all of OpenFTS and that doesn&#8217;t work
(at least I haven&#8217;t tried to get it to work). I just wanted to compile
the nsfts.so module, which is all that you need for OpenACS. So,
instead of doing <code>make</code> in the Search-OpenFTS-tcl-0.3.2
directory, <code>cd aolserver</code> and do the <code>make</code>
there.
</p>
<p>
I think if you follow the directions in the AOLSERVER.INSTALL file,
it&#8217;ll work.
</p>
<address class="signature">
<span class="author">Vinod Kurup</span>
<span class="date">2004-02-19 23:50:27</span>
</address>
</div>

<div class="one-comment">
<p><b>untitled</b></p>
<p>
Thanks, Vinod,
</p>
<p>
You&#8217;re right. I actually thought I was running the make in aolserver
dir, but now that I retried it there, it went through smoothly :o)
</p>
<address class="signature">
<span class="author">Jarkko Laine</span>
<span class="date">2004-02-20 01:42:53</span>
</address>
</div>

</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2004/01/10/openacs-darwinports">Installing OpenACS via Darwinports</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-01-10T00:00:00-05:00" pubdate data-updated="true">Jan 10<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Installing OpenACS via Darwinports</h2>

<p><a href="/">by Vinod Kurup</a></p>

<hr />

<p>I&#8217;ve created a Darwinports installation for OpenACS. (<a href="http://en.wikipedia.org/wiki/DarwinPorts" title="Darwinports on Wikipedia">What is
Darwinports?</a>). This will allow you to set up a quick test installation
to try out OpenACS. I wouldn&#8217;t recommend it for a production (or even a
development) server. For those purposes, I&#8217;d strictly follow <a href="http://openacs.org/doc/openacs-5-1/complete-install.html" title="OpenACS Documentation">the OpenACS
documentation</a>.</p>

<p>Download my <a href="/files/openacs-dports.tgz" title="OpenACS dport">OpenACS portfiles</a> and stick them in your local darwinports
repository. If you don&#8217;t already have a local darwinports repository,
create one and add its location to <code>/opt/local/etc/ports/sources.conf</code> (I
use <code>file:///Users/vinod/dports-dev</code>). Here&#8217;s the steps I took to get
everything to work (on Mac OS X Panther).</p>

<pre><code>:~$ wget http://www.kurup.org/files/openacs-dports.tgz
:~$ tar xvzf openacs-dports.tgz
dports-dev/www/
dports-dev/www/aolserver-nscache/
dports-dev/www/aolserver-nscache/Portfile
dports-dev/www/aolserver-nspostgres/
dports-dev/www/aolserver-nspostgres/files/
dports-dev/www/aolserver-nspostgres/files/patch-Makefile.diff
dports-dev/www/aolserver-nspostgres/Portfile
dports-dev/www/aolserver-nssha1/
dports-dev/www/aolserver-nssha1/Portfile
dports-dev/www/openacs/
dports-dev/www/openacs/files/
dports-dev/www/openacs/files/patch-config.diff
dports-dev/www/openacs/files/patch-functions.diff
dports-dev/www/openacs/files/patch-install-sh.diff
dports-dev/www/openacs/files/patch-install-tcl.diff
dports-dev/www/openacs/files/patch-nsd-postgres.diff
dports-dev/www/openacs/Portfile
dports-dev/www/tclwebtest/
dports-dev/www/tclwebtest/Portfile
dports-dev/textproc/
dports-dev/textproc/tdom/
dports-dev/textproc/tdom/Portfile
--&gt;:~$ cd dports-dev/
:~/dports-dev$ portindex
Creating software index in /Users/vinod/dports-dev
Adding port textproc/tdom
Adding port www/aolserver-nscache
Adding port www/aolserver-nspostgres
Adding port www/aolserver-nssha1
Adding port www/openacs
Adding port www/tclwebtest

Total number of ports parsed:   6 
Ports successfully parsed:  6    
Ports failed:           0

:~/dports-dev$ cd
:~$ sudo port install postgresql +server
---&gt;  Fetching postgresql
---&gt;  Attempting to fetch postgresql-7.4.8.tar.bz2 from ftp://ftp2.ch.postgresql.org/mirror/postgresql/source/v7.4.8
---&gt;  Verifying checksum(s) for postgresql
---&gt;  Extracting postgresql
---&gt;  Applying patches to postgresql
---&gt;  Configuring postgresql
---&gt;  Building postgresql with target all
---&gt;  Staging postgresql into destroot
---&gt;  Packaging tgz archive for postgresql 7.4.8_0+darwin_7+server
---&gt;  Installing postgresql 7.4.8_0+darwin_7+server

:~$ sudo su postgres -c '/opt/local/bin/initdb -D /opt/local/var/db/pgsql/defaultdb'

The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale C.

creating directory /opt/local/var/db/pgsql/defaultdb... ok
creating directory /opt/local/var/db/pgsql/defaultdb/base... ok
creating directory /opt/local/var/db/pgsql/defaultdb/global... ok
creating directory /opt/local/var/db/pgsql/defaultdb/pg_xlog... ok
creating directory /opt/local/var/db/pgsql/defaultdb/pg_clog... ok
selecting default max_connections... 50
selecting default shared_buffers... 300
creating configuration files... ok
creating template1 database in /opt/local/var/db/pgsql/defaultdb/base/1... ok
initializing pg_shadow... ok
enabling unlimited row size for system tables... ok
initializing pg_depend... ok
creating system views... ok
loading pg_description... ok
creating conversions... ok
setting privileges on built-in objects... ok
creating information schema... ok
vacuuming database template1... ok
copying template1 to template0... ok

Success. You can now start the database server using:

    /opt/local/bin/postmaster -D /opt/local/var/db/pgsql/defaultdb
            or
    /opt/local/bin/pg_ctl -D /opt/local/var/db/pgsql/defaultdb -l logfile start

    :~$ sudo su postgres -c '/opt/local/bin/pg_ctl -D /opt/local/var/db/pgsql/defaultdb -l /opt/local/var/log/pgsql/defaultdb.log start'
    postmaster successfully started

    :~$ sudo port install openacs

    ---&gt;  Fetching aolserver
    ---&gt;  Attempting to fetch aolserver-4.0.10-src.tar.gz from http://kent.dl.sourceforge.net/aolserver
    ---&gt;  Verifying checksum(s) for aolserver
    ---&gt;  Extracting aolserver
    ---&gt;  Configuring aolserver
    ---&gt;  Building aolserver with target all
    ---&gt;  Staging aolserver into destroot
    ---&gt;  Packaging tgz archive for aolserver 4.0.10_0
    ---&gt;  Installing aolserver 4.0.10_0

    AOLserver installed into /opt/local/aolserver

    You now need to configure the server to your needs. You 
    might want to create another user (e.g. aolserver) to run 
    the server.
    ---&gt;  Activating aolserver 4.0.10_0
    ---&gt;  Cleaning aolserver
    ---&gt;  Fetching aolserver-nscache
    ---&gt;  Attempting to fetch nscache-1.5.tar.gz from http://kent.dl.sourceforge.net/aolserver
    ---&gt;  Verifying checksum(s) for aolserver-nscache
    ---&gt;  Extracting aolserver-nscache
    ---&gt;  Configuring aolserver-nscache
    ---&gt;  Building aolserver-nscache with target all
    ---&gt;  Staging aolserver-nscache into destroot
    ---&gt;  Packaging tgz archive for aolserver-nscache 1.5_0
    ---&gt;  Installing aolserver-nscache 1.5_0
    ---&gt;  Activating aolserver-nscache 1.5_0
    ---&gt;  Cleaning aolserver-nscache
    ---&gt;  Fetching aolserver-nspostgres
    ---&gt;  Attempting to fetch nspostgres-4.0.tar.gz from http://kent.dl.sourceforge.net/aolserver
    ---&gt;  Verifying checksum(s) for aolserver-nspostgres
    ---&gt;  Extracting aolserver-nspostgres
    ---&gt;  Applying patches to aolserver-nspostgres
    ---&gt;  Configuring aolserver-nspostgres
    ---&gt;  Building aolserver-nspostgres with target all
    ---&gt;  Staging aolserver-nspostgres into destroot
    ---&gt;  Packaging tgz archive for aolserver-nspostgres 4.0_0
    ---&gt;  Installing aolserver-nspostgres 4.0_0
    ---&gt;  Activating aolserver-nspostgres 4.0_0
    ---&gt;  Cleaning aolserver-nspostgres
    ---&gt;  Fetching aolserver-nssha1
    ---&gt;  Attempting to fetch nssha1-0.1.tar.gz from http://kent.dl.sourceforge.net/aolserver
    ---&gt;  Verifying checksum(s) for aolserver-nssha1
    ---&gt;  Extracting aolserver-nssha1
    ---&gt;  Configuring aolserver-nssha1
    ---&gt;  Building aolserver-nssha1 with target all
    ---&gt;  Staging aolserver-nssha1 into destroot
    ---&gt;  Packaging tgz archive for aolserver-nssha1 0.1_0
    ---&gt;  Installing aolserver-nssha1 0.1_0
    ---&gt;  Activating aolserver-nssha1 0.1_0
    ---&gt;  Cleaning aolserver-nssha1
    ---&gt;  Fetching tclwebtest
    ---&gt;  Verifying checksum(s) for tclwebtest
    ---&gt;  Extracting tclwebtest
    ---&gt;  Configuring tclwebtest
    ---&gt;  Building tclwebtest with target all
    ---&gt;  Staging tclwebtest into destroot

    be sure that /opt/local/lib is included in your TCL path:
    tcsh: setenv TCLLIBPATH "$TCLLIBPATH /opt/local/lib"
    bash: export TCLLIBPATH "$TCLLIBPATH /opt/local/lib"
    ---&gt;  Packaging tgz archive for tclwebtest 0.9_0
    ---&gt;  Installing tclwebtest 0.9_0
    ---&gt;  Activating tclwebtest 0.9_0
    ---&gt;  Cleaning tclwebtest
    ---&gt;  Fetching tdom
    ---&gt;  Attempting to fetch tDOM-0.8.0.tar.gz from http://www.tdom.org/files/
    ---&gt;  Verifying checksum(s) for tdom
    ---&gt;  Extracting tdom
    ---&gt;  Configuring tdom
    ---&gt;  Building tdom with target all
    ---&gt;  Staging tdom into destroot

    be sure that /opt/local/lib is included in your TCL path:
    tcsh: setenv TCLLIBPATH "$TCLLIBPATH /opt/local/lib"
    bash: export TCLLIBPATH="$TCLLIBPATH /opt/local/lib"
    ---&gt;  Packaging tgz archive for tdom 0.8.0_0
    ---&gt;  Installing tdom 0.8.0_0
    ---&gt;  Activating tdom 0.8.0_0
    ---&gt;  Cleaning tdom
    ---&gt;  Fetching openacs
    ---&gt;  Attempting to fetch openacs-5.1.5.tar.gz from http://openacs.org/projects/openacs/download/download/
    ---&gt;  Verifying checksum(s) for openacs
    ---&gt;  Extracting openacs
    ---&gt;  Applying patches to openacs
    ---&gt;  Configuring openacs
    ---&gt;  Building openacs with target all
    ---&gt;  Staging openacs into destroot
    ---&gt;  Packaging tgz archive for openacs 5.1.5_0
    ---&gt;  Installing openacs 5.1.5_0
    ---&gt;  Activating openacs 5.1.5_0
    Running the OpenACS install script. (could take 10-15 minutes)
    OpenACS should now be running with the following settings:
    url:          http://127.0.0.1
    serverroot:   /opt/local/openacs/service0
    logs:         /opt/local/openacs/service0/log
    PID files:    /opt/local/aolserver/log
    admin user:   admin@localhost
    admin passwd: 1
    UNIX uid:     service0
    UNIX gid:     web

    Adjust AOLserver settings in /opt/local/openacs/service0/etc/config.tcl
    Adjust OpenACS settings through the web interface.
    ---&gt;  Cleaning openacs
    :~$ 
</code></pre>

<p>Be patient once the install script starts running. It takes a <strong>long</strong>
time. Again, this is just a quick and dirty way of trying out OpenACS. I&#8217;d
be happy to hear any comments or questions.</p>

<hr />
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2004/01/09/now-running-openacs-5">Now Running OpenACS 5</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2004-01-09T00:00:00-05:00" pubdate data-updated="true">Jan 9<span>th</span>, 2004</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I upgraded to OpenACS 5 thanks to <a href="http://openacs.org/projects/openacs/5.0/upgrade-463-50">instructions from DaveB, et. al.</a> I had a <a href="http://openacs.org/forums/message-view?message_id=145889">few hitches with that process</a>, but the system seems to be working OK and is certainly zippier. I haven&#8217;t tested everything out yet, so please holler if anything breaks.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/22/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/20/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/12/20/triangle-race-series">Triangle Race Series</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/12/02/nest-journey">My Nest Journey</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/09/23/composting">Composting</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/09/22/starting-a-garden">Starting a garden</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/05/31/indian-civilization">History of Indian Civilization</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/05/30/autovacuum-fail">Autovacuum not running</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/05/29/renaissance-man">Renaissance Man</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/28/cbv-dynamic">Using dynamic queries in a CBV</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/23/some-emacs-posts">Some Emacs Posts</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/22/pygments-py3">Pygments on Arch Linux</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/21/django-test-models">How to create test models in Django</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/21/peanut-allergy-a-personal-clinical-review">Peanut Allergy, a personal clinical review</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/17/priorities-and-gtd">Priorities and GTD</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/16/gtd-again">GTD again?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/15/writing-paralysis">Writing paralysis</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/09/steal-my-web-app-idea">Steal My Web App Idea</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/30/how-to-change-the-rear-tire-on-a-12-inch-bicycle">How to change the rear tire on a 12 inch bicycle</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/05/nsbrief-gets-the-best-guests">NSBrief gets the best guests</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/24/emacs-for-python-programming">Emacs for Python Programming</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/15/emacs-autocomplete-stumbles-on-yasnippet">Emacs Autocomplete stumbles on yasnippet</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("vkurup", 5, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/vkurup" class="twitter-follow-button" data-show-count="true">Follow @vkurup</a>
  
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll&#8230;</ul>
  <p><a href="http://pinboard.in/u:vkurup">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "vkurup"; //id target for pinboard list
  var pinboard_count = 10; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  <a rel="license"
  href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Some rights
  reserved</a> by <a rel="author" href="https://profiles.google.com/vvkurup/" title="View my Google Profile">Vinod Kurup</a> -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'vkurup';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
