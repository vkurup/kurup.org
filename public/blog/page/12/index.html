
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Vinod Kurup</title>
  <meta name="author" content="Vinod Kurup">

  
  <meta name="description" content="Can you believe that it&#8217;s been a year since we got
married? Me neither. For our wedding, Mike
and Ellie gave us a generous gift certificate to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://www.kurup.org/blog/page/12/">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/vkurup" rel="alternate" title="Vinod Kurup" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='//fonts.googleapis.com/css?family=Quattrocento' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Quattrocento+Sans' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

<meta name="verify-v1" content="7VLvj7jbZMA24/73SZ9uUEq3SeBuiX3+aSIBRtgH4jQ=" />
<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://vkurup.myopenid.com/" />
<link rel="openid2.local_id" href="http://vkurup.myopenid.com/" />
<link rel="openid2.provider" href="http://www.myopenid.com/server" />
<meta http-equiv="X-XRDS-Location" content="http://www.myopenid.com/xrds?username=vkurup.myopenid.com" />

<link href="/favicon.ico" rel="shortcut icon" />

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-79447-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Vinod Kurup</a></h1>
  
    <h2>Hospitalist/programmer in search of the meaning of life</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/vkurup" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.kurup.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/about.html">About Me</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/blog/categories">Categories</a></li>
  <li><a href="/medicine">Medicine</a></li>
  <li><a href="/running">Running</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/09/05/ecce-bed-breakfast">Ecce Bed &amp; Breakfast</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-09-05T00:00:00-04:00" pubdate data-updated="true">Sep 5<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/ecce-panorama.jpg" width="580" alt="Ecce view" /></p>

<p>Can you believe that it&#8217;s been a year since <a href="http://kurup.org/wedding">we got
married</a>? Me neither. For our wedding, Mike
and Ellie gave us a generous gift certificate to the bed &amp;
breakfast of our choice. It took a while to find the right one. We
started at bedandbreakfast.com and surfed dozens of listings. This
industry really needs some web consulting advice. Most B&amp;B
websites don&#8217;t provide nearly enough information. I want more photos,
more reviews. I want to get a feel for the atmosphere.</p>

<p>We finally found a website that showed off those things and made a
reservation at <a href="http://www.eccebedandbreakfast.com/">Ecce</a>. We had
high expectations, but I&#8217;m happy to say that they were exceeded. You
won&#8217;t find more hospitable proprietors than Alan and Kurt. Our <a href="/images/ecce-room.jpg">room
was tastefully designed</a> and was stocked
with a gourmet coffee machine, TV/DVD/VCR, fridge and jacuzzi! It was
pure luxury. The breakfasts were over the top. Definitely try the
french toast with chocolate.</p>

<p>The house sits on a bluff overlooking the Delaware River. The view is
amazing. I tried to take one of those panorama pics, but I don&#8217;t think
it does it justice. This place must be breathtaking in the fall. We
saw 4 or 5 bald eagles and numerous hawks from the house. We also saw
a lot of deer hanging out near the highways.</p>

<p>Tropical Storm Ernesto was winding through the region this weekend, so
we didn&#8217;t do too much in the way of outdoors stuff. We did enjoy the
Harvest Festival Market and had some great fried food at the bar at
Lackawaxen House. We were less impressed with the Front Porch Cafe,
but it was very busy and had gotten good reviews, so maybe we just got
unlucky.</p>

<p>So thanks again, Mike and Ellie. I&#8217;m certain we never would&#8217;ve
otherwise explored this paradise just 2 hours from our front door. And
thank you Mala, for the best year of my life (so far!)</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>hey mon</b></p>
<p>
Hey Vinod,
</p>
<p>
Looks like you&#8217;re taking the entries to a new level (with the photos).
Cool cool!
</p>
<p>
Thanks for the shout out wrt H.
</p>
<p>
Kurup.org keeps growing and growing.  Awesome.
</p>
<address class="signature">
<span class="author">Dave T</span>
<span class="date">2006-09-08 00:46:12</span>
</address>
</div>

<div class="one-comment">
<p><b>bed and breakfast blog from Puerto Rico</b></p>
<p>
I found your blog by searching for bed and breakfast blogs.
</p>
<p>
I&#8217;m having a terrible time finding more blogs written by bed and
breakfast owners like mine.
</p>
<p>
It is a <a href="http://myblog.rainforestinn.com"> bed and breakfast
blog </a> about our place deep in the heart of the El Yunque
rainforest of Puerto Rico. We are working on repairing hurricane
damage and we do a podcast about Puerto Rico
</p>
<address class="signature">
<span class="author">Bill &amp; Laurie</span>
<span class="date">2006-10-07 17:12:15</span>
</address>
</div>

</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/09/05/3-weddings-5-babies-2-graduations-and-a-dog">3 Weddings, 5 Babies, 2 Graduations and a Dog</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-09-05T00:00:00-04:00" pubdate data-updated="true">Sep 5<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/mala-nyc.jpg" width="500" alt="IMG_5830.JPG" /></p>

<p>I love taking pictures with my trusty old Canon S200. It takes great pics and I get to take the credit. I&#8217;m just horrible about getting them off my camera and onto my website. I finally uploaded a <a href="http://kurup.org/photo/?folder_id=61013">whole bunch</a> today, dating back to early May when we went to <a href="http://kurup.org/photo/album?album_id=71973">Philadelphia for Kevin and Joanne&#8217;s wedding</a>. The next group is from <a href="http://kurup.org/photo/album?album_id=71975">Brooklyn and Staten Island for Mary Ann and Benjeil&#8217;s wedding</a>. We interrupted wedding season to watch <a href="http://kurup.org/photo/album?album_id=71979">Ethan graduate from law school</a> in Minneapolis. While in the Twin Cities, we got to spend a few minutes with <a href="http://kurup.org/photo/photo?photo_id=73510">Ajay</a>. Back home, we started <a href="http://kurup.org/photo/album?album_id=71981">Memorial Day in the Cloisters</a>, had lunch in the city (photo above), and finished the day by meeting a cute girl named <a href="http://kurup.org/photo/photo?photo_id=73401">Amalie</a> (of Amalie &amp; Ivory fame!). A week later we were back in the Midwest for <a href="http://kurup.org/photo/album?album_id=71983">Sivan&#8217;s cozy high school graduation</a>. Nothing like watching your nephew graduate from high school to make you feel old. <a href="http://kurup.org/photo/album?album_id=74486">Mike and Susan threw a barbecue in Long Island</a> to celebrate their farewell. <a href="http://kurup.org/photo/photo?photo_id=74502">Asha</a> was there too! Next up on the wedding circuit were <a href="http://kurup.org/photo/album?album_id=71985">Russ and Michelle</a>. They were nice enough to get married in DC, so we were able to stay with Puja and meet <a href="http://kurup.org/photo/photo?photo_id=74305">Loki</a>. <a href="http://kurup.org/photo/album?album_id=71987">Mala interviewed in Norfolk</a> where we were introduced to <a href="http://kurup.org/photo/photo?photo_id=74063">Kylee</a> for the first time.</p>

<p>And if that&#8217;s not enough for you, here are some <a href="http://kurup.org/photo/album?album_id=71977">random pics from the Bronx</a>. I&#8217;m sad to say that I&#8217;ve yet to take any photos of <a href="http://kurup.org/dave/photo/photo?photo_id=71894">Hunter June</a>, so I&#8217;ll point you instead to <a href="http://kurup.org/dave/photo/album?album_id=67042">her parents&#8217; photos</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/22/pediatric-endocrinologist-for-hire">Pediatric Endocrinologist for Hire</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-22T00:00:00-04:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Mala finishes her fellowship in July 2007, so we&#8217;ve entered job search mode. We&#8217;ve got a few interviews scheduled, but it just seems harder than it should be to find out who has positions available.</p>

<p>Some criteria:</p>

<ul>
<li>focus on clinical practice</li>
<li>location with a lower cost of living than NYC (I guess that rules out &#8230; NYC)</li>
<li>friendly colleagues, staff, environment</li>
<li>family friendly</li>
<li>location near friends or family</li>
</ul>


<p>So if you know of someone that needs hard-working, intelligent, caring pediatric endocrinologist, let me know. Act now and we&#8217;ll throw in a computer-programming, marathon-running internist!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/04/talking-history-is-history">Talking History Is History</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-04T00:00:00-04:00" pubdate data-updated="true">Aug 4<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of my favorite podcasts is going on hiatus. (A <a href="http://en.wikipedia.org/wiki/Podcast">podcast</a> is basically a fancy word for a radio show that you can download to your MP3 player.) <a href="http://talkinghistory.oah.org/">Talking History</a> is produced by the Organization of American Historians and because of budget problems, they cutting funding for Talking History.</p>

<p>The host Brian LeBeau is the epitome of a great interviewer. He mostly stays in the background, giving the stage to the historian, but when he asks a question, you immediately feel like it&#8217;s a question that you would want to ask. He makes interviewing seem simple. It&#8217;s clear that not only has he read the work of the historian he&#8217;s interviewing, he understands the impact of their work. But most of all, the show is great because of the content. They choose great topics with great authors and historians. If you have any interest in history, go back and listen to their <a href="http://talkinghistory.oah.org/arch2006.html">shows for the past couple years</a> (which will remain up despite the hiatus). Hope the hiatus is short&#8230;</p>

<p>(Don&#8217;t forget to <a href="https://www.oah.org/giving/index.html#Anchor-11176">donate to their cause</a> if you enjoy the content as much as I do)</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>History and more</b></p>
<p>
While Talking History takes its hiatus, you might check out the
Teaching Company ( http://www.teach12.com/teach12.asp?ai=16281 ). They
scout out good teachers from universities across the US for lectures
on a variety of topics.
</p>
<address class="signature">
<span class="author">Prem Thomas</span>
<span class="date">2006-08-07 12:45:00</span>
</address>
</div>

<div class="my-comment">
<p><b>I&#8217;m too cheap</b></p>
<p>
You&#8217;re right Prem, the content looks enticing. But, it&#8217;s a little on
the expensive side and I&#8217;m really a fan of the podcast format. Let the
audio come to me :)
</p>
<address class="signature">
<span class="author">Vinod Kurup</span>
<span class="date">2006-08-09 14:05:29</span>
</address>
</div>

<div class="one-comment">
<p><b>awesome</b></p>
<p>
This is awesome!  We need more of this.  Mo&#8217; podcasts, mo&#8217; podcasts,
mo&#8217; podcasts!
</p>
<p>
It&#8217;s hard to find the quality stuff, though.  The free marketplace has
been inundated.  All part of the process, I know, I know (quality will
rise to the top).  It would be cool to have a site that has a good
rating system for free podcasts.  There probably already is one or
ones like it.  Haven&#8217;t seen it/them, but perhaps it can be filtered,
fine tuned.
</p>
<address class="signature">
<span class="author">Dave T</span>
<span class="date">2006-08-15 13:42:39</span>
</address>
</div>

<div class="my-comment">
<p><b>True</b></p>
<p>
That&#8217;s my problem too. Finding good stuff. There are a few sites that claim to help you (Just do a google search for &#8216;podcast directory&#8217;), but I haven&#8217;t been overwhelmed with their usefulness.
</p>
<address class="signature">
<span class="author">Vinod Kurup</span>
<span class="date">2006-08-24 16:09:31</span>
</address>
</div>

</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/08/02/milla-blogs">Milla Blogs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-08-02T00:00:00-04:00" pubdate data-updated="true">Aug 2<span>nd</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://kurup.org/blog/2006/07/25/recurrent-dvt#comment68115">Milla correctly points out</a> that she is my blogging inspiration.  Not just for telling me to blog more, but for providing the inspiration in the form of the <a href="http://millatonkonogy.blogspot.com/">most promising blog-start ever</a>!  My <a href="http://millatonkonogy.blogspot.com/2006/07/blame-it-on-rain.html">favorite so far</a>:</p>

<blockquote><p>I turned on 1010 Wins &#8220;you give us 20 minutes, we&#8217;ll give you traffic updates from yesterday for roads you don&#8217;t drive on&#8221; and heard nothing at all about the mudslide on the Saw Mill River Parkway, which turned my road home into a parking lot.</p></blockquote>

<p>Someone put her on a reality show, already!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/07/25/recurrent-dvt">Recurrent DVT</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-07-25T00:00:00-04:00" pubdate data-updated="true">Jul 25<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The duration of treatment for a deep venous thrombosis (DVT) is problematic. Most patients who have one will never have another one, yet those who do have a 5% risk of death due to their recurrent DVT. We need a simple test which separates one group from the other.</p>

<p>This weeks JAMA (no link as issue is not online yet) reports on an article claiming that thrombin generation may be that test. Thrombin is one of the key factors in coagulation and the theory is that patients who generate excess amounts of thrombin are predisposed to developing blood clots. This cohort study showed that patients with peak thrombin generation below 400 nM had a 60% lower risk of developing a recurrent DVT over the course of about 5 years of follow up.</p>

<p>The limiting feature of this study is that they excluded patients with Protein C deficiency, Protein S deficiency and SLE. They also excluded patients with cancer, recent pregnancy, recent trauma, or recent surgery.</p>

<p>That means that before we use this test, we need to make sure that we&#8217;ve excluded all of the above diagnoses first. That doesn&#8217;t make it such a useful screening test. It would be useful to know is whether patients with Protein C deficiency (as an example) with low thrombin-generation values are at high risk for recurrent DVT. That is, does thrombin-generation trump Protein C deficiency, or vice versa.</p>

<p>What I&#8217;d like to have is a test that told me either 1) The patient is low risk or 2) The patient needs further testing. Then, I could do a simple test in all patients with DVT and only send the complicated hypercoagulable workup in patients who had a positive screening test. It seems like thrombin-generation may eventually be that test.</p>

<p>Also in this issue of the journal is a nice quote from Thoreau:</p>

<blockquote><p>Write while the heat is in you &#8230; The writer who postpones the recording of his thoughts uses an iron which has cooled to burn a hole with. He cannot inflame the minds of his audience.</p></blockquote>

<p>Good advice, which I need to take more often.</p>

<p>Reference: JAMA 2006-07-26 296:4 page 397</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>Thoreau Shmoreau</b></p>
<p>
That quote always gets credited to Thoreau instead of me. I believe I
told you two weeks ago to &#8220;blog more&#8221; which is a less flowery approach
to Thoreau&#8217;s basic sentiment. He&#8217;s such a snooze anyway - has anybody
really ever read all of Walden? ;)
</p>
<p>
-M http://millatonkonogy.blogspot.com
</p>
<address class="signature">
<span class="author">Milla Tonkonogy</span>
<span class="date">2006-08-01 21:27:59</span>
</address>
</div>

</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/07/24/bizjournal-inaccuracy">Bizjournal Inaccuracy</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-07-24T00:00:00-04:00" pubdate data-updated="true">Jul 24<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Blair Corp, a company in my portfolio, announced second quarter earnings today. They were disappointing, but not as disappointing as reported by <a href="http://www.bizjournals.com">bizjournals</a>.</p>

<p><a href="http://biz.yahoo.com/bizj/060724/1320068.html">&#8220;Blair Corp. swings to loss&#8221;</a> is the title of the article. While dramatic, it&#8217;s completely wrong.</p>

<blockquote><p>Blair Corp., a catalog clothing retailer and direct marketer, reported a loss in the second quarter as sales fell nearly 5 percent.</p></blockquote>

<p>False. They reported a profit of $233,000 in the second quarter.</p>

<blockquote><p>Blair said its second-quarter results were negatively impacted by the sale of its credit portfolio and last August&#8217;s stock buyback of 4.4 million shares.</p></blockquote>

<p>Not true. The buyback doesn&#8217;t affect the operating results. If anything, they made the reported results look <strong>better</strong> than they really are. The stock buyback reduced the amount of outstanding shares by about one-half, so the reported earnings-per-share (EPS) results are about twice what they would have been without the buyback.</p>

<p>None of this is to deny the fact that Blair&#8217;s results were terrible and that the stock price has been even worse. I&#8217;m a little appeased by the fact that web sales increased by about 18% versus last quarter. Perhaps a few smart minds will start pursing the web angle as the wave of the future!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/06/12/doc-on-board">Doc on Board</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-06-12T00:00:00-04:00" pubdate data-updated="true">Jun 12<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Stop what you&#8217;re doing and go buy the July 2006 issue of <a href="http://www.runnersworld.com">Runner&#8217;s World</a>. Flip to page 49 and read the fine article by Scott Douglas on things a runner should discuss with their physician.</p>

<p>Yep, the &#8220;Vinod Kurup&#8221; quoted is yours truly! I&#8217;m really grateful to Scott for using me as a source and thus making my dream of being in Runner&#8217;s World come true. :)</p>

<p>Here&#8217;s the <a href="http://www.runnersworld.com/article/0,5033,s6-78-0-0-9823,00.html">online version of the article</a>, but go check out the magazine because it&#8217;s, you know, much cooler.</p>

<p>Also check out <a href="http://www.scottdouglas.biz">Scott&#8217;s site</a> for more
interesting articles about running.</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>Dr. Kurup</b></p>
<p>
You are freaking amazing!
</p>
<address class="signature">
<span class="author">Unregistered Visitor</span>
<span class="date">2006-07-09 17:05:45</span>
</address>
</div>

</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/05/16/automated-testing-rules">Automated Testing Rules</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-05-16T00:00:00-04:00" pubdate data-updated="true">May 16<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Automated testing is a good thing. For my running log application, I have a proc that creates a new log for a user, called rl::runner::new. If you happen to call it for a user who already has a log, it returns the already created log. When I created the proc way back when, I also created an automated test to make sure that creation worked and that redundant calls returned the orignal log.</p>

<p>Over time, I added some code to make sure that users are given proper permissions on their log. Anytime you make a change, you should run your tests, but of course, I didn&#8217;t :-) Well, today I did and my test now failed.</p>

<p>Here is the relevant (edited) code:</p>

<div>
  <pre><code class='tcl'>set runner_id [db_nextval acs_object_id_seq] 
set ret_val [db_exec_plsql new_runner {}]
permission::grant -party_id $user_id -object_id $runner_id -privilege admin
permission::grant -party_id $user_id -object_id $runner_id -privilege write</code></pre>
</div>


<p>The error was happening in <code>permission::grant</code>. It was complaining that <code>$runner_id</code> wasn&#8217;t a valid acs_object. What&#8217;s going on? It looks like it should work. The problem is that I should be granting the permission on <code>ret_val</code>, not on <code>runner_id</code>. (Probably a bad choice of variable names). The first time a log is created, <code>db_exec_plsql</code> returns a value which happens to be the same as <code>runner_id</code>. The second time it&#8217;s called, it returns a value which is <strong>different</strong> and <code>permission::grant</code> fails.</p>

<p>I would never have caught this error until I tried to call <code>rl::runner::new</code> the second time on the same user. Which would make it one of those very difficult to track bugs. Automated testing saved me a lot of annoying debugging.</p>

<p>That said, I wish OpenACS&#8217;s testing facilities were better. I worked on a couple other bugs today and I&#8217;m trying really hard to write tests to expose bugs before fixing them, but it&#8217;s really a strain. Especially when you need to do a combination of black box and white box testing. I&#8217;d like to make testing easier in OpenACS, but I&#8217;m not sure if I have the brainpower :-)</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>Improving Testing</b></p>
<p>
Vinod,
</p>
<p>
There is definitely room for improvement. You can specify test
dependency, I think, so you can create a test package environment,
then run several tests using that setup. I haven&#8217;t tried that yet, but
it should help.
</p>
<p>
Anothing thing to keep in mind is that testing can expose places in
your code that might need to be decoupled. That is one of the
advantages of testing, by thinking of how to run the code is isolation
in the test, you can discover a better design :)
</p>
<address class="signature">
<span class="author">Dave Bauer</span>
<span class="date">2006-05-17 07:27:51</span>
</address>
</div>

</div>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/05/14/new-features-coming-in-tcl-85">New Features Coming in Tcl 8.5</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-05-14T00:00:00-04:00" pubdate data-updated="true">May 14<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was looking at the <a href="http://www.tcl.tk/man/tcl8.4/TclCmd/split.htm">Tcl 8.4 man page for &#8216;split&#8217;</a> and saw this example code:</p>

<div>
  <pre><code class='tcl'>## Split into fields on colons
set fields [split $rec &quot;:&quot;]
## Assign fields to variables and print some out...
lassign $fields userName password uid grp longName homeDir shell</code></pre>
</div>


<p>It shows how to split a string using &#8216;:&#8217; as the delimiter. The interesting part is the &#8216;lassign&#8217; statement. I&#8217;d never seen that before. I&#8217;ve always done something annoying like this:</p>

<div>
  <pre><code class='tcl'>set fields [split $rec &quot;:&quot;]
set userName [lindex $fields 0]
set password [lindex $fields 1]
set uid [lindex $fields 2]
set grp [lindex $fields 3]
set longName [lindex $fields 4]
set homeDir [lindex $fields 5]
set shell [lindex $fields 6]</code></pre>
</div>


<p>How could I have overlooked &#8216;lassign&#8217; all these years? After berating my idiocy for a few minutes, I tried &#8216;lassign&#8217; out and Tcl replied &#8216;invalid command name&#8217; . Turns out I&#8217;m not as stupid as I thought. :-) &#8216;lassign&#8217; is new in Tcl 8.5 (but seems to have snuck in the backdoor of the 8.4 docs). I decided to see what else was <a href="http://www.tcl.tk/software/tcltk/8.5.html">coming in 8.5</a>.</p>

<ul>
<li>Dictionaries. These are associative arrays which reportedly are better than Tcl arrays, but I&#8217;m not sure why.</li>
<li>** as an exponentiation operator</li>
<li>Instead of doing: <code>if {[lsearch -exact $list $item] != -1}</code>, the new &#8216;in&#8217; operator lets you do <code>if {$item in $list}</code>. There&#8217;s also a &#8216;ni&#8217; operator for &#8216;not in&#8217;.</li>
<li>Plenty of other stuff, none of which really caught my eye.</li>
</ul>


<p>Tcl 8.5 is still alpha, so I&#8217;m sticking with 8.4 (and my annoying
code) for the moment.</p>

<div id="comment-box">
<h2>Comments from old site</h2>

<div class="one-comment">
<p><b>What about this</b></p>
<p>
Or just do
</p>

<pre><code>
foreach {userName password uid grp longName homeDir shell} [lrange fields 0 6] {break}
# We do an lrange here, otherwise values would be set wrong
# in case someone accidentally supplies a list with too many elements,
# because then the foreach loop would run more than once
</code></pre>
<p>
I just learned the lrange trick yesterday :)
</p>
<p>
I got caught by the over-optimistic 8.4 docs as well. lassign remove
the risk where you need to use the lrange call.
</p>
<address class="signature">
<span class="author">Dave Bauer</span>
<span class="date">2006-05-14 19:56:49</span>
</address>
</div>

<div class="my-comment">
<p><b>Much better</b></p>
<p>
The lrange trick is cleaner than my code. Thanks Dave!
</p>
<address class="signature">
<span class="author">Vinod Kurup</span>
<span class="date">2006-05-15 20:42:37</span>
</address>
</div>

<div class="one-comment">
<p><b>Look also at OpenACS API</b></p>
<p>
The &#8216;util_unlist&#8217; API is the exact equivalent of &#8216;lassign&#8217;.
</p>
<address class="signature">
<span class="author">Anonymous</span>
<span class="date">2006-07-05 02:30:37</span>
</address>
</div>

<div class="my-comment">
<p><b>Thanks</b></p>
<p>
Thanks - I didn&#8217;t know about util_unlist. There are so many cool
little-known functions in the OpenACS API
</p>
<address class="signature">
<span class="author">Vinod Kurup</span>
<span class="date">2006-07-05 14:42:46</span>
</address>
</div>

</div>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/13/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/11/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/07/28/cbv-dynamic">Using dynamic queries in a CBV</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/23/some-emacs-posts">Some Emacs Posts</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/22/pygments-py3">Pygments on Arch Linux</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/21/django-test-models">How to create test models in Django</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/21/peanut-allergy-a-personal-clinical-review">Peanut Allergy, a personal clinical review</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/17/priorities-and-gtd">Priorities and GTD</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/16/gtd-again">GTD again?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/15/writing-paralysis">Writing paralysis</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/09/steal-my-web-app-idea">Steal My Web App Idea</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/30/how-to-change-the-rear-tire-on-a-12-inch-bicycle">How to change the rear tire on a 12 inch bicycle</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/05/nsbrief-gets-the-best-guests">NSBrief gets the best guests</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/24/emacs-for-python-programming">Emacs for Python Programming</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/15/emacs-autocomplete-stumbles-on-yasnippet">Emacs Autocomplete stumbles on yasnippet</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/14/ive-gone-to-the-dark-side">I&#8217;ve gone to the dark side</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/04/avik-arrives">Avik Arrives!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/21/thoughts-on-free-will">Thoughts on Free Will</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/19/facebook-is-killing-blogging">Facebook is killing blogging</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/16/a-great-moment">A great moment</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/07/nasa-curiosity-lands">NASA Curiosity Lands</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/03/blogging-again">Blogging Again</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("vkurup", 5, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/vkurup" class="twitter-follow-button" data-show-count="true">Follow @vkurup</a>
  
</section>


<section>
  <h1>My Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll&#8230;</ul>
  <p><a href="http://pinboard.in/u:vkurup">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "vkurup"; //id target for pinboard list
  var pinboard_count = 10; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  <a rel="license"
  href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Some rights
  reserved</a> by <a rel="author" href="https://profiles.google.com/vvkurup/" title="View my Google Profile">Vinod Kurup</a> -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'vkurup';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
